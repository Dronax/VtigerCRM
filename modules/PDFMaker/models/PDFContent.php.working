<?php
$GLOBALS["gMpjDTYTKXzMVzxxrsou"]=base64_decode("dGF4dHlwZQ==");$GLOBALS["DLwFVFUVHsHMAHsKmps"]=base64_decode("R3JhbmQgVG90YWw=");$GLOBALS["zoGJBYZrEjpfSaMmspTO"]=base64_decode("Q18=");$GLOBALS["lwLEccmORBCQmHDKNime"]=base64_decode("TV8=");$GLOBALS["IjVspADOFENyqIgHBCyu"]=base64_decode("SW52ZW50b3J5");$GLOBALS["yHJJwPzDcOPVmaWaVPpS"]=base64_decode("PGltZyBzcmM9Ig==");$GLOBALS["asxETQgoYgCVOHXhnboY"]=base64_decode("Y3VycmVuY3k=");$GLOBALS["LgMNIFzKHGZVHsEXfc"]=base64_decode("cGVyY2VudGFnZQ==");$GLOBALS["iZvfOVvqsTBzUTIsQetS"]=base64_decode("ZG91Ymxl");$GLOBALS["diEzDjOPlobKHFTab"]=base64_decode("b3duZXI=");$GLOBALS["MLnOQfrCfPnFLwGWbxSz"]=base64_decode("cmVmZXJlbmNl");$GLOBALS["eiVzoZeQpIXRfHOJajZk"]=base64_decode("bXVsdGlwaWNrbGlzdA==");$GLOBALS["slYBpUhslScVJWyLNdKz"]=base64_decode("ZmllbGR2YWx1ZQ==");$GLOBALS["BoWuBfavKqJxeLgCuLA"]=base64_decode("bmFtZQ==");$GLOBALS["WoMEjeTrzmvVuUhBEXXn"]=base64_decode("PC90cj4=");$GLOBALS["WbcxomVQWZIUKZZaVTSY"]=base64_decode("PC90ZD4=");$GLOBALS["tAGGrOKxpRduOPmQmnlr"]=base64_decode("Ij4=");$GLOBALS["zfPVzLAJlMnHVsxSGGnB"]=base64_decode("PHRkIHN0eWxlPSI=");$GLOBALS["nlbKTNJlIdRRpcUwxkFN"]=base64_decode("PiZuYnNwOzwvdGQ+");$GLOBALS["gWBDTaUHWAddjMucmmUA"]=base64_decode("PHRkIA==");$GLOBALS["lctypxAwFdWiVwWZHsUs"]=base64_decode("PHRyPg==");$GLOBALS["xnVRNBQaIFtteEArGvfZ"]=base64_decode("L1wkKFtBLVpdKilcJC8=");$GLOBALS["xGGEUQqZNMBoRgafSLtH"]=base64_decode("NjQ=");$GLOBALS["UBoJZzOhUSaSNWJuQNdo"]=base64_decode("Mw==");$GLOBALS["PRopbcqEskWVOSIXgrBf"]=base64_decode("VG90YWwgZXhlY3V0aW9uIHRpbWUgaW4gc2Vjb25kczog");$GLOBALS["ApLCkRADMzznPcKbSrOM"]=base64_decode("bW9kaWZpZWR0aW1l");$GLOBALS["eAzlPGPFMGgdhJgJubmh"]=base64_decode("Y3JlYXRlZHRpbWU=");$GLOBALS["hYEEIrgvMvjWwntKyKXm"]=base64_decode("NS4yLjE=");$GLOBALS["aaXEIWllqNJOucZLlGIH"]=base64_decode("dWl0eXBl");$GLOBALS["lbmRgYVjvlCndWvnTOxT"]=base64_decode("Jmx0O2JyJmd0Ow==");$GLOBALS["GSImnIfLsySEOdXkzpWG"]=base64_decode("Jmx0O2JyLyZndDs=");$GLOBALS["zdYGLGPPVdmxjyaftI"]=base64_decode("Jmx0O2JyIC8mZ3Q7");$GLOBALS["UWIPgjxFofMMrcoIwgFn"]=base64_decode("bGFiZWw=");$GLOBALS["tugkmwKQmrdyfghQnRJj"]=base64_decode("");$GLOBALS["FIecrTCvZaDsfQlJasUc"]=base64_decode("bW0iIC8+");$GLOBALS["fBDSvvLmYooOPiqYFqVF"]=base64_decode("bW0iIG1hcmdpbi1mb290ZXI9Ig==");$GLOBALS["rgEMuDhnmWtifbdAEXZC"]=base64_decode("bW0iIG1hcmdpbi10b3A9IjBtbSIgbWFyZ2luLWJvdHRvbT0iMG1tIiBtYXJnaW4taGVhZGVyPSI=");$GLOBALS["vIiwzwTwiCcsYCZzVuzw"]=base64_decode("bW0iIG1hcmdpbi1yaWdodD0i");$GLOBALS["ZJBdGOIOoapaxqYkktiX"]=base64_decode("IiBtYXJnaW4tbGVmdD0i");$GLOBALS["ODALcGLzptTglvvdpsoE"]=base64_decode("IiBvcmllbnRhdGlvbj0i");$GLOBALS["aWgclZlOVokaNkeGZLio"]=base64_decode("PHBhZ2VicmVhayBzaGVldC1zaXplPSI=");$GLOBALS["qfcGNRXjTFivrLORNpMc"]=base64_decode("UHVyY2hhc2VPcmRlcg==");$GLOBALS["RQevNBKoCBzdkZws"]=base64_decode("U2FsZXNPcmRlcg==");$GLOBALS["VyruvaHZMEBOljRknaiL"]=base64_decode("UXVvdGVz");$GLOBALS["vlsPQpzXupiCvufCwAMg"]=base64_decode("SW52b2ljZQ==");$GLOBALS["eVroHgpFiySqVOtUOKzB"]=base64_decode("bGFuZ3VhZ2VTdHJpbmdz");$GLOBALS["TBeKmrrVAoQMAfUVbYbS"]=base64_decode("dGVzdC9sb2dvLw==");$GLOBALS["RulYYdOpoSYywKCOaueE"]=base64_decode("TE9HT19QQVRI");$GLOBALS["ZjSDxfxihiFbHZUjqcfa"]=base64_decode("U0VMRUNUIChtYXJnaW5fdG9wICogMTApIEFTIG1hcmdpbl90b3AsDQogICAgICAgICAgICAgICAgICAgICAobWFyZ2luX2JvdHRvbSAqIDEwKSBBUyBtYXJnaW5fYm90dG9tLA0KICAgICAgICAgICAgICAgICAgICAgKG1hcmdpbl9sZWZ0ICogMTApIEFTIG1hcmdpbl9sZWZ0LA0KICAgICAgICAgICAgICAgICAgICAgKG1hcmdpbl9yaWdodCoxMCkgQVMgbWFyZ2luX3JpZ2h0LA0KICAgICAgICAgICAgICAgICAgICAgZm9ybWF0LA0KICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24sDQogICAgICAgICAgICAgICAgICAgICBlbmNvZGluZywNCiAgICAgICAgICAgICAgICAgICAgIGRpc3BfaGVhZGVyLCBkaXNwX2Zvb3Rlcg0KICAgICAgICAgICAgICBGUk9NIHZ0aWdlcl9wZGZtYWtlcl9zZXR0aW5ncyBJTk5FUiBKT0lOIHZ0aWdlcl9wZGZtYWtlciBPTiAgdnRpZ2VyX3BkZm1ha2VyLnRlbXBsYXRlaWQgPSB2dGlnZXJfcGRmbWFrZXJfc2V0dGluZ3MudGVtcGxhdGVpZCBXSEVSRSAgdnRpZ2VyX3BkZm1ha2VyLm1vZHVsZSA9ID8gQU5EIHZ0aWdlcl9wZGZtYWtlci5tb2R1bGUgSU4gKCdJbnZvaWNlJywnUXVvdGVzJywnU2FsZXNPcmRlcicsJ1B1cmNoYXNlT3JkZXInKSA=");$GLOBALS["gWJRFzwRTjNMXbfrYSbm"]=base64_decode("U19DVVJSRU5DWV9TWU1CT0wk");$GLOBALS["vVcsNpnhZivKIbzfTbJo"]=base64_decode("U19DVVJSRU5DWV9DT0RFJA==");$GLOBALS["QCoafbtJHEnYIXdbHMEE"]=base64_decode("U19DVVJSRU5DWV9OQU1FJA==");$GLOBALS["fKgtRtAbXjdmLClfyvNZ"]=base64_decode("U19DUk1JRCQ=");$GLOBALS["KnyzRcNiwKtAjdOhNnpU"]=base64_decode("Ul9VU0VS");$GLOBALS["RVsnMcrvpGulsEGnCmWc"]=base64_decode("YWRkcmVzc19zdGF0ZQ==");$GLOBALS["YVdMxvUUMGrAMRVhrYdb"]=base64_decode("YWRkcmVzc19wb3N0YWxjb2Rl");$GLOBALS["EIEUihAcJiADpmRc"]=base64_decode("YWRkcmVzc19jaXR5");$GLOBALS["BNrEQGGBLnJWSHpDGfmA"]=base64_decode("YWRkcmVzc19jb3VudHJ5");$GLOBALS["UiApyckeIjqVjfyRqlub"]=base64_decode("YWRkcmVzc19zdHJlZXQ=");$GLOBALS["dHEyyspgVQXmEWWNxhMx"]=base64_decode("Tk9URVM=");$GLOBALS["CtwpswNYmTiRviGSYSci"]=base64_decode("c2lnbmF0dXJl");$GLOBALS["gRmNMivXcvZJAdXRE"]=base64_decode("U0lHSE5BVFVSRQ==");$GLOBALS["ofyhzWeAzovHgyiOlSJD"]=base64_decode("cGhvbmVfb3RoZXI=");$GLOBALS["IfcUsigXIrqDcPACA"]=base64_decode("T1RIRVJfUEhPTkU=");$GLOBALS["HaAOVwYkZJGjPxuVzkTE"]=base64_decode("cGhvbmVfaG9tZQ==");$GLOBALS["BTpjnqemdyzwoPXHOqQw"]=base64_decode("SE9NRV9QSE9ORQ==");$GLOBALS["URdicZQpysQDMyekZGRt"]=base64_decode("cGhvbmVfbW9iaWxl");$GLOBALS["jYRKcrlFUyijKHVWibkm"]=base64_decode("TU9CSUxF");$GLOBALS["jlXOmeQINIEeAJAaPYAn"]=base64_decode("eWFob29faWQ=");$GLOBALS["LNoZNCWGQlzpaXBACeMG"]=base64_decode("WUFIT09JRA==");$GLOBALS["LZShoKmwrtQTThBskQgC"]=base64_decode("cGhvbmVfd29yaw==");$GLOBALS["oVroCOUzTVbLiNPHIzdw"]=base64_decode("ZW1haWwy");$GLOBALS["IJRoLitEhKxUPgbBCRxV"]=base64_decode("T1RIRVJfRU1BSUw=");$GLOBALS["MRgKrpiqotWgspFqkSta"]=base64_decode("ZGVwYXJ0bWVudA==");$GLOBALS["MendQToYcZudzhkZUmY"]=base64_decode("REVQQVJUTUVOVA==");$GLOBALS["tyiKYtMlaeBNALwbAPQg"]=base64_decode("cGhvbmVfZmF4");$GLOBALS["zyWgxkPUdjUzynYIDYdX"]=base64_decode("dGl0bGU=");$GLOBALS["qpdRZEgVHJQsxaXwbfbX"]=base64_decode("VElUTEU=");$GLOBALS["tEMriVBFrZpjWqjEkoFw"]=base64_decode("ZW1haWwx");$GLOBALS["BijLeauFDbnpezjaIZwF"]=base64_decode("RU1BSUw=");$GLOBALS["pGFhETqWCkBTxmdFgtOp"]=base64_decode("bGFzdF9uYW1l");$GLOBALS["QzaYqBTgaMnEsCIrqsBs"]=base64_decode("TEFTVE5BTUU=");$GLOBALS["cgiWEpwuscTOvYbsLXOD"]=base64_decode("Zmlyc3RfbmFtZQ==");$GLOBALS["RniRwKGzagmbAkzqmho"]=base64_decode("RklSU1ROQU1F");$GLOBALS["rwmkcdmPDzUucQquSrtH"]=base64_decode("UFJPRFVDVFNfSU1BR0VOQU1FJA==");$GLOBALS["RPkgbUewaCWuGtTyrlXz"]=base64_decode("Q09OVEFDVFNfSU1BR0VOQU1FJA==");$GLOBALS["kcgtgCVnHDjFZxkUkUpO"]=base64_decode("YXV0aGVudGljYXRlZF91c2VyX2lk");$GLOBALS["aPQOOGetUKKQqLaSuYHI"]=base64_decode("Ul9VU0VSU19JTUFHRU5BTUUk");$GLOBALS["FSfmkSOUJgWlVgNYqzfD"]=base64_decode("VVNFUlNfSU1BR0VOQU1FJA==");$GLOBALS["FkPIxPSEvkfvcHUCXiye"]=base64_decode("VkFUQkxPQ0tf");$GLOBALS["YYRLWtklMQGaGjfqAzgZ"]=base64_decode("I1ZBVEJMT0NLX0VORCM=");$GLOBALS["ngqNkMldJZZUjwCXVvKe"]=base64_decode("I1ZBVEJMT0NLX1NUQVJUIw==");$GLOBALS["UmvmnoFuWRjkzHugGMPv"]=base64_decode("VkFUQkxPQ0sk");$GLOBALS["evPqeApJlCUqIsERajBU"]=base64_decode("PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4=");$GLOBALS["akxzMvtMVhlTGkYuBeBt"]=base64_decode("PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgbm93cmFwIGFsaWduPSdyaWdodCcgd2lkdGg9JzI1JSc+");$GLOBALS["VjLOfyKfWyCdusWIAWdN"]=base64_decode("ICU8L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBub3dyYXAgYWxpZ249J3JpZ2h0JyB3aWR0aD0nMzAlJz4=");$GLOBALS["SlVxVMfPEmXkdKRqTaBh"]=base64_decode("PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIAkJCQk8dGQgbm93cmFwIGFsaWduPSdyaWdodCcgd2lkdGg9JzI1JSc+");$GLOBALS["rydgZBBOztzQNWmATbwK"]=base64_decode("PHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBub3dyYXAgYWxpZ249J2xlZnQnIHdpZHRoPScyMCUnPg==");$GLOBALS["aYtVDAmOwTWIsoDoryYE"]=base64_decode("PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+");$GLOBALS["qfWJVSsxLTSSlUheoewE"]=base64_decode("TEJMX1ZBVEJMT0NLX1ZBVF9WQUxVRQ==");$GLOBALS["QfeXxqYtCLayleQPW"]=base64_decode("KQ==");$GLOBALS["UTmKRHEsSbdOHmLxIdSb"]=base64_decode("ICg=");$GLOBALS["rSGFTyLtZeBByCWTPIO"]=base64_decode("TEJMX1ZBVEJMT0NLX1NVTQ==");$GLOBALS["dRHETaosOwNIJQFcHUib"]=base64_decode("TEJMX1ZBVEJMT0NLX1ZBVF9QRVJDRU5U");$GLOBALS["vMkJGOFARxpPAuIgedSP"]=base64_decode("PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIG5vd3JhcCBhbGlnbj0nY2VudGVyJz4=");$GLOBALS["iikSSXomhqziyjKdYrqY"]=base64_decode("TmFtZQ==");$GLOBALS["ZGzpyJcKZAqFHBVUgXel"]=base64_decode("PHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgbm93cmFwIGFsaWduPSdjZW50ZXInPg==");$GLOBALS["MHEepEiAADloOKekqyK"]=base64_decode("PHRhYmxlIGJvcmRlcj0nMScgc3R5bGU9J2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTsnIGNlbGxwYWRkaW5nPSczJz4=");$GLOBALS["WPmSbYZFzNBGyrGTLk"]=base64_decode("VE9UQUxBRlRFUkRJU0NPVU5UJA==");$GLOBALS["sFZLiMYswEAAxqoSDpvv"]=base64_decode("VE9UQUxESVNDT1VOVFBFUkNFTlQk");$GLOBALS["gGAgAvJYNTyFjqGZRTvz"]=base64_decode("VE9UQUxESVNDT1VOVCQ=");$GLOBALS["feIjkqGopEmzOGcMmUQB"]=base64_decode("U0hUQVhUT1RBTCQ=");$GLOBALS["mVrXJOONVSZChsYNOzhQ"]=base64_decode("U0hUQVhBTU9VTlQk");$GLOBALS["qwRyimhMuyAIYVkFegUl"]=base64_decode("VE9UQUxXSVRIVkFUJA==");$GLOBALS["aXubxJpJZtHMJKxnvmNS"]=base64_decode("VkFUUEVSQ0VOVCQ=");$GLOBALS["gOHnqzppGThZvpAeOnNG"]=base64_decode("VkFUJA==");$GLOBALS["SGONpXMdBqodZsnzMPwt"]=base64_decode("VE9UQUxXSVRIT1VUVkFUJA==");$GLOBALS["DxYfhqTVbEIfsBKYRBzn"]=base64_decode("dHh0QWRqdXN0bWVudA==");$GLOBALS["gMuBdLURbnjXfnHPNOyK"]=base64_decode("QURKVVNUTUVOVCQ=");$GLOBALS["dqdzljRNGpMyOLxuNICA"]=base64_decode("Y3VycmVuY3lfY29kZQ==");$GLOBALS["KkdwCvNDsRyfSbKjayZP"]=base64_decode("Q1VSUkVOQ1lDT0RFJA==");$GLOBALS["JDmnQpPYtMjmCjRsNEVf"]=base64_decode("Q1VSUkVOQ1lTWU1CT0wk");$GLOBALS["UZwTQdoOhNJBSuTcGqMr"]=base64_decode("Y3VycmVuY3lfbmFtZQ==");$GLOBALS["RTouRmczZNZPWgwnXsBc"]=base64_decode("Q1VSUkVOQ1lOQU1FJA==");$GLOBALS["WxlkFYlGqLhXWUsmWMI"]=base64_decode("JnBvdW5kOw==");$GLOBALS["dXqAyYmlZoLOZMvHyD"]=base64_decode("wqM=");$GLOBALS["RPNFgMMDetkBQiRnIoyy"]=base64_decode("JmV1cm87");$GLOBALS["FuGuAcoAndaZSvBuzboq"]=base64_decode("4oKs");$GLOBALS["epdvjuZUWYeOAUeihbzK"]=base64_decode("Y3VycmVuY3lfc3ltYm9s");$GLOBALS["RAOZTOlQdQfmLhHiFRIO"]=base64_decode("VE9UQUwk");$GLOBALS["FMhbXaXIzETuVmQcBEpQ"]=base64_decode("aGRuU3ViVG90YWw=");$GLOBALS["cZcamfUlcGzITMutACsL"]=base64_decode("U1VCVE9UQUwk");$GLOBALS["vtFeYlQaGMrRQvbUVuw"]=base64_decode("aGRuR3JhbmRUb3RhbA==");$GLOBALS["QPwfouUHWefctalhnxor"]=base64_decode("Y3VycmVuY3lfaWQ=");$GLOBALS["gYvARnZiUKUGmSgjo"]=base64_decode("cmVjb3JkX21vZHVsZQ==");$GLOBALS["qbRyPHcyWFaYYSsbqBo"]=base64_decode("cmVjb3JkX2lk");$GLOBALS["rQMMnZEFJmEuLGrZBmuu"]=base64_decode("dGFibGVuYW1l");$GLOBALS["sQFKUzlejnTuezhkRpLL"]=base64_decode("U0VMRUNUIGZpZWxkbmFtZSwgZmllbGRpZCwgZmllbGRsYWJlbCwgY29sdW1ubmFtZSwgdGFibGVuYW1lLCB1aXR5cGUsIHR5cGVvZmRhdGEsIHByZXNlbmNlIEZST00gdnRpZ2VyX2ZpZWxkIFdIRVJFIHRhYmlkPT8=");$GLOBALS["nrhwShLzxrgmJFXGdfFd"]=base64_decode("U0VMRUNUICogRlJPTSA=");$GLOBALS["wZmDGNYMLfNreexcYIgx"]=base64_decode("PT8=");$GLOBALS["WrRNBOmpvjMBLLfdBxIj"]=base64_decode("IFdIRVJFIA==");$GLOBALS["wKXzayHsOsLXAqKnGXcf"]=base64_decode("U0VMRUNUIHRheHR5cGUgRlJPTSA=");$GLOBALS["XzWYGxGUDKgMJmTYjNzn"]=base64_decode("JU1fR3JhbmQgVG90YWwl");$GLOBALS["VgoMjOJZKDjxcjaIskHl"]=base64_decode("SW52b2ljZSBObw==");$GLOBALS["UqfyVVFWsgCAQOdIiUgM"]=base64_decode("JUdfSW52b2ljZSBObyU=");$GLOBALS["dVeFTzVEqtKZBRkDMqQp"]=base64_decode("U2FsZXNPcmRlciBObw==");$GLOBALS["BOkvWkQWMgygoeLltiWH"]=base64_decode("JUdfU08gTnVtYmVyJQ==");$GLOBALS["XCsCaYrEYHjqOFlQGvmm"]=base64_decode("JUdf");$GLOBALS["bDnzjVkCvdgSgNQgm"]=base64_decode("VmVuZG9yIE5hbWU=");$GLOBALS["nHRVSOJSPEYHgtquaWJ"]=base64_decode("JU1fTEJMX1ZFTkRPUl9OQU1FX1RJVExFJQ==");$GLOBALS["vZJuukcZWktqvHjjSIbD"]=base64_decode("U3ViIFRvdGFs");$GLOBALS["ALUfVOdlcekAuCbossxG"]=base64_decode("UXVhbnRpdHk=");$GLOBALS["eNGOvyTuLTYrGATrSxwp"]=base64_decode("JUdfUXR5JQ==");$GLOBALS["dflXXMnDxtSAHFUZrdII"]=base64_decode("bGFuZ3VhZ2VTdHJpbmdz");$GLOBALS["UncIrIfKZVmNxonPJFGy"]=base64_decode("Q19VU0VS");$GLOBALS["VKnFIlaFORPGktiznpAJ"]=base64_decode("U0VMRUNUIHZ0aWdlcl91c2Vycy4qIEZST00gdnRpZ2VyX3VzZXJzIElOTkVSIEpPSU4gdnRpZ2VyX2NybWVudGl0eSBPTiB2dGlnZXJfY3JtZW50aXR5LnNtY3JlYXRvcmlkID0gdnRpZ2VyX3VzZXJzLmlkICBXSEVSRSAgdnRpZ2VyX2NybWVudGl0eS5jcm1pZCA9ID8=");$GLOBALS["cQpBrWeRgvycdIbMQKiZ"]=base64_decode("TV9VU0VS");$GLOBALS["kLZlhKCBQpqKptfeEvaC"]=base64_decode("U0VMRUNUIHZ0aWdlcl91c2Vycy4qIEZST00gdnRpZ2VyX3VzZXJzIElOTkVSIEpPSU4gdnRpZ2VyX2NybWVudGl0eSBPTiB2dGlnZXJfY3JtZW50aXR5Lm1vZGlmaWVkYnkgPSB2dGlnZXJfdXNlcnMuaWQgIFdIRVJFICB2dGlnZXJfY3JtZW50aXR5LmNybWlkID0gPw==");$GLOBALS["pzqWkZwMjXzsjpXJKDEo"]=base64_decode("Ul9VU0VSU19DUk1JRCQ=");$GLOBALS["tevtKogmWpRfjgMwUQeP"]=base64_decode("VVNFUlNfQ1JNSUQk");$GLOBALS["HifFabmCcMUcdbCrWhYA"]=base64_decode("TF9VU0VS");$GLOBALS["FWBzbLxurCfbUzOWacBJ"]=base64_decode("VVNFUg==");$GLOBALS["EWhsCOMWsXKEpiRkyvzm"]=base64_decode("aWQ=");$GLOBALS["sjblpDstWVKXvqNXCOdw"]=base64_decode("U0VMRUNUICogRlJPTSB2dGlnZXJfdXNlcnMgV0hFUkUgaWQgPSA/");$GLOBALS["PcvwKYOvwJDeCWjsFzVB"]=base64_decode("VEVSTVNfQU5EX0NPTkRJVElPTlMk");$GLOBALS["cSCFJgdZRBFkJdAZSRrR"]=base64_decode("dGFuZGM=");$GLOBALS["ChPORxqJRBPrQDeOsXLN"]=base64_decode("U0VMRUNUIHRhbmRjIEZST00gdnRpZ2VyX2ludmVudG9yeV90YW5kYyBXSEVSRSB0eXBlID0gPw==");$GLOBALS["FIMnmnTgIIYIZMlgiweJ"]=base64_decode("U2V0dGluZ3M6VnRpZ2Vy");$GLOBALS["PxgYWrTfSfkRPIDNeCln"]=base64_decode("Q09NUEFOWV8=");$GLOBALS["abujIITWbiiVROUyQsyB"]=base64_decode("bG9nb25hbWU=");$GLOBALS["CuQytGSwAZCWJYbigXep"]=base64_decode("emlw");$GLOBALS["XckkIahjVOedVNldUNrH"]=base64_decode("bmFtZQ==");$GLOBALS["eAenLQbQfipXvcPLgEUH"]=base64_decode("cm9vdF9kaXJlY3Rvcnk=");$GLOBALS["txzPbPvjXkZWeZPRDiPR"]=base64_decode("L3R5cGUk");$GLOBALS["DStySfTLWHKVpnFXdMgi"]=base64_decode("L3ZhbHVlJA==");$GLOBALS["FfkwVNMaqrTcGqUTchs"]=base64_decode("JU1f");$GLOBALS["diUasjkzMdVYiqJtldzh"]=base64_decode("JQ==");$GLOBALS["noiWHVcbbFCRwJzCRVnU"]=base64_decode("Y29udmVyc2lvbl9yYXRl");$GLOBALS["thBjipOnCiMVgQpJPtWm"]=base64_decode("cmF0ZQ==");$GLOBALS["cPQJjhHcHaQbqmrmxvlj"]=base64_decode("cm93YnJlYWs=");$GLOBALS["lWzbxjfiXJPufItRLuMq"]=base64_decode("PC90YWJsZT4=");$GLOBALS["VhcjKQoFvGBhmPJmwTNn"]=base64_decode("c2hvd19zdWJ0b3RhbA==");$GLOBALS["cdyPJZbsSGstCcGLoLIM"]=base64_decode("c2hvd19oZWFkZXI=");$GLOBALS["LWspUsXPklHbquCJQIJF"]=base64_decode("cHJvZHVjdHM=");$GLOBALS["GZciFcdmRoVimsLUcMyN"]=base64_decode("U0VSVklDRVNf");$GLOBALS["TmaUiSonLZPMYQQWIzPn"]=base64_decode("UFJPRFVDVFNf");$GLOBALS["KnqjvrXJHFCFDolIeXZY"]=base64_decode("c2VsZWN0ICogZnJvbSB2dGlnZXJfaW52ZW50b3J5cHJvZHVjdHJlbCB3aGVyZSBpZD0/");$GLOBALS["upcIPxfFkIwKZvvCikJt"]=base64_decode("RU5EIw==");$GLOBALS["pIpkPTgrDMptTQuvGvIy"]=base64_decode("c3VidG90YWw=");$GLOBALS["kaVrfkyjSrnAitILXrfK"]=base64_decode("dGFn");$GLOBALS["jgrslHAejfgZJTvQZnBl"]=base64_decode("X1NVQlRPVEFMJA==");$GLOBALS["HKmcaquxZwSdlhDHqrYZ"]=base64_decode("Jz4=");$GLOBALS["sYyRJZaViKEEDkpdsBAv"]=base64_decode("PHRkIGFsaWduPSdyaWdodCcgbm93cmFwPSdub3dyYXAnIHN0eWxlPSc=");$GLOBALS["AQiNeyqfibteumzjzWpT"]=base64_decode("PC90ZD4=");$GLOBALS["NuKTBrPSTLooIoPGCDlw"]=base64_decode("JUdfU3VidG90YWwl");$GLOBALS["wkpeWPSNxzgLmqMfZkLm"]=base64_decode("O2JvcmRlci1yaWdodDpub25lJz4=");$GLOBALS["CGbFgRIFcNnyLvvmfknU"]=base64_decode("Jw==");$GLOBALS["QBCClqasqvCbotYqzwk"]=base64_decode("IHN0eWxlPSc=");$GLOBALS["WCSyTKWxerqYPmwIRXNU"]=base64_decode("PC90cj4=");$GLOBALS["zJKQFNxTiERdRLaSOHLw"]=base64_decode("JyBzdHlsZT0nYm9yZGVyLXRvcDoxcHggc29saWQgIzAwMDAwMDsnPiZuYnNwOzwvdGQ+");$GLOBALS["yQhmRUDyTbzkbadJxlDs"]=base64_decode("Jz4mbmJzcDs8L3RkPg==");$GLOBALS["KXzOsuoGCUJObukQzvnT"]=base64_decode("JyBzdHlsZT0n");$GLOBALS["FwbUJpnpRWrUZNUpEmQw"]=base64_decode("Y29sc3Bhbg==");$GLOBALS["cOEAvTrndEtMwLAmmVTL"]=base64_decode("PHRkIGNvbHNwYW49Jw==");$GLOBALS["UQDeAMMPYZTwtgxodAbQ"]=base64_decode("Ym9yZGVyLXRvcA==");$GLOBALS["PczYJrUoKCfgnPwiQPEB"]=base64_decode("PHRyPg==");$GLOBALS["cqfJpXzNTVQWnwMYCHfL"]=base64_decode("c3R5bGU=");$GLOBALS["kcgQHALssHcJGPNfqnSB"]=base64_decode("dHI=");$GLOBALS["ukbbswQAPnxJXezxICgS"]=base64_decode("Pg==");$GLOBALS["RTRxBrGOZDeetpuWPLf"]=base64_decode("dGFibGU=");$GLOBALS["UYeEjRiZpjFBTPVHinE"]=base64_decode("U1RBUlQj");$GLOBALS["pkVngQNtqwwbMenGNTqY"]=base64_decode("I1BST0RVQ1RCTE9DXw==");$GLOBALS["fAKxwbJrJQaOApqVZxlU"]=base64_decode("dGQ=");$GLOBALS["SlHsWnwyyIgPQNOBiKpk"]=base64_decode("LnBocA==");$GLOBALS["YtcWFrnluplyyGyCytPv"]=base64_decode("bW9kdWxlcy8=");$GLOBALS["sdrWarevAiEizOvnfUkT"]=base64_decode("QWNjb3VudHM=");$GLOBALS["lkVEsmAqfKYazGQuo"]=base64_decode("Njg=");$GLOBALS["vxSCrgCrDvGsppNxNbFv"]=base64_decode("X0lNQUdFTkFNRSQ=");$GLOBALS["VWHPTaOAEVpRKucREQw"]=base64_decode("Q29udGFjdHM=");$GLOBALS["nUXzerjAuehadUOreXIs"]=base64_decode("Ul8=");$GLOBALS["OBNnIuCgUOaNmhndbYAc"]=base64_decode("PyBBTkQgZGVsZXRlZD0w");$GLOBALS["KaPfmUGPNousZHXNMo"]=base64_decode("U0VMRUNUIGRlbGV0ZWQgRlJPTSA=");$GLOBALS["MLEZcdNfVaYqJfVhxslc"]=base64_decode("dnRpZ2VyX2NybWVudGl0eSBXSEVSRSBjcm1pZD0=");$GLOBALS["vwvAfWokfpeObSQdwrfg"]=base64_decode("dnRpZ2VyX3VzZXJzIFdIRVJFIGlkPQ==");$GLOBALS["YsOGgZGvNiqLjCXZuKw"]=base64_decode("VXNlcnM=");$GLOBALS["XyIwzTZuQnctOicwPgwB"]=base64_decode("dWl0eXBl");$GLOBALS["InlXFercuyJzafFVcRsT"]=base64_decode("U0VMRUNUIGZpZWxkaWQsIGZpZWxkbmFtZSwgdWl0eXBlLCBjb2x1bW5uYW1lIEZST00gdnRpZ2VyX2ZpZWxkIFdIRVJFIChkaXNwbGF5dHlwZSAhPSA/IE9SIGZpZWxkaWQgPSA/KSBBTkQgdGFiaWQgPSA/");$GLOBALS["bJDxiQFvcYmDJIivnNcU"]=base64_decode("X2ZpZWxkaW5mb19jYWNoZQ==");$GLOBALS["FYrDEOEzirqtLAfqaLkE"]=base64_decode("VVRGLTgvL1RSQU5TTElU");$GLOBALS["UiBwatLlwkKjJctLVlkg"]=base64_decode("VVRGLTg=");$GLOBALS["SQkRvShtsWKvnWrwnDVz"]=base64_decode("JUVYRUNVVElPTlRJTUUl");$GLOBALS["WtRhMQGrnlSZqpQjERCM"]=base64_decode("c21vd25lcmlk");$GLOBALS["SyPXMzLwLBXhlLbUJZpd"]=base64_decode("U0VMRUNUIHNtb3duZXJpZCBGUk9NIHZ0aWdlcl9jcm1lbnRpdHkgV0hFUkUgY3JtaWQgPSA/");$GLOBALS["hclorlNquLOBYvEzKzur"]=base64_decode("YXNzaWduZWRfdXNlcl9pZA==");$GLOBALS["nmtaOLJDPAjLXZcXdgGs"]=base64_decode("ZGl2W3N0eWxlXj1QQUdFLUJSRUFLLUFGVEVSXQ==");$GLOBALS["SpSnkmEyvPyrtToxbtTw"]=base64_decode("ZGl2W3N0eWxlXj1wYWdlLWJyZWFrLWFmdGVyXQ==");$GLOBALS["JpwUqdOzBUcALEDAjxpV"]=base64_decode("X01PRElGSUVEVElNRV9EQVRFVElNRSQ=");$GLOBALS["TOxptBeNcVhdwUuUPoHs"]=base64_decode("X0NSRUFURURUSU1FX0RBVEVUSU1FJA==");$GLOBALS["hotnDgPCsKTzcNgiKAHl"]=base64_decode("X0NSTUlEJA==");$GLOBALS["hlywcvTCgwgzGDkHcztj"]=base64_decode("c3JjPSc=");$GLOBALS["yPZDSSMKXmMCZcdoGfbh"]=base64_decode("WS1tLWQ=");$GLOBALS["ooNgRvozZqOBqblyrcBK"]=base64_decode("IyNZWVlZLU1NLUREIyM=");$GLOBALS["lwECioaKPcJGonZjCJFY"]=base64_decode("bS1kLVk=");$GLOBALS["TyKfXDJBbPBeyhgmyovg"]=base64_decode("IyNNTS1ERC1ZWVlZIyM=");$GLOBALS["OzkThaZjGnqwCuwmgM"]=base64_decode("ZC5tLlk=");$GLOBALS["mfZMcZNrTNMxDJKITRJT"]=base64_decode("IyNERC5NTS5ZWVlZIyM=");$GLOBALS["poXjtagXoyMHVDiYCoQ"]=base64_decode("ZC1tLVk=");$GLOBALS["OkEiTSlNsvulhTaxxVse"]=base64_decode("IyNERC1NTS1ZWVlZIyM=");$GLOBALS["velCdhsIQQLOdApNLuNk"]=base64_decode("e25ifQ==");$GLOBALS["zLgSZUaglbIXcpTCHijW"]=base64_decode("IyNQQUdFUyMj");$GLOBALS["DsjIDXLzKVwCyLGvbApM"]=base64_decode("e1BBR0VOT30=");$GLOBALS["MHYVVIMcTRyduHpMAcJn"]=base64_decode("IyNQQUdFIyM=");$GLOBALS["klDnNLzGInVuCdSAJKwG"]=base64_decode("Jm5ic3A7");$GLOBALS["QFsiMBhlJBuzOBDRULTg"]=base64_decode("PC9iYXJjb2RlPg==");$GLOBALS["iQFNQbmlsdDAfqxJeBRS"]=base64_decode("fEJBUkNPREVd");$GLOBALS["kzjJiifEESBxOwXSoOcF"]=base64_decode("PGJhcmNvZGU+");$GLOBALS["wTcUiJYclalbXjyxIU"]=base64_decode("W0JBUkNPREV8");$GLOBALS["WtHOZZCfuStvYzsMCefW"]=base64_decode("c2l0ZXVybCQ=");$GLOBALS["LIGQXmYADKMqqAbIHMlz"]=base64_decode("aW1nX3Jvb3RfZGlyZWN0b3J5");$GLOBALS["jFzQngxoQQzOOzdgBGrM"]=base64_decode("VkFUQkxPQ0s=");$GLOBALS["vyrGreozoFLtDZLyuhRI"]=base64_decode("U0hUQVhUT1RBTA==");$GLOBALS["jchlQfsqOXDdKcoXqU"]=base64_decode("U0hUQVhBTU9VTlQ=");$GLOBALS["OYnSWxZAAtgFUAzWUlPO"]=base64_decode("VE9UQUxXSVRIVkFU");$GLOBALS["ytPcTYQviOWffJYjSyVj"]=base64_decode("VEFYVE9UQUxQRVJDRU5U");$GLOBALS["nTmAlahELxYHNfFwVOgA"]=base64_decode("VEFYVE9UQUw=");$GLOBALS["hzbnSLrKuTMVxMNiiqpx"]=base64_decode("VE9UQUxBRlRFUkRJU0NPVU5U");$GLOBALS["aDwbOnJKWwhQMqFPNKI"]=base64_decode("RklOQUxESVNDT1VOVFBFUkNFTlQ=");$GLOBALS["SDAPUHbTcvZMzFpCNqtI"]=base64_decode("RklOQUxESVNDT1VOVA==");$GLOBALS["dUJvsKZzuDJEfQObNxzY"]=base64_decode("VE9UQUxXSVRIT1VUVkFU");$GLOBALS["PEhePFdZQqbBRxxogoVw"]=base64_decode("TkVUVE9UQUw=");$GLOBALS["fcJitMucOpzfbronbsev"]=base64_decode("VE9UQUw=");$GLOBALS["kCunpSTYqVraBzHsTyO"]=base64_decode("c2g=");$GLOBALS["KpLzjHGOByfDjxryiRCc"]=base64_decode("aGRuU19IX0Ftb3VudA==");$GLOBALS["uLRnVtMhilkBTFcYCNJI"]=base64_decode("ZWRpdA==");$GLOBALS["vKrKjFDQeFZzQskPVtYY"]=base64_decode("YXZhaWxhYmxl");$GLOBALS["TsGeVYpzichUTvoPIhCB"]=base64_decode("Z3JvdXA=");$GLOBALS["XAAvyZirgRkxWSjorSQN"]=base64_decode("aGRuRGlzY291bnRBbW91bnQ=");$GLOBALS["BCpWZcJloJkUfyEqayTa"]=base64_decode("aGRuRGlzY291bnRQZXJjZW50");$GLOBALS["UHBSErUELaMZHciHPabH"]=base64_decode("c3VidG90YWxzQXJyYXk=");$GLOBALS["znWPsvMfrWkXTpzWLMXf"]=base64_decode("UFJPRFVDVF9JTUFHRQ==");$GLOBALS["OmzvgpLgbWvoehcpRLhL"]=base64_decode("UFJPRFVDVF8=");$GLOBALS["GeNxKHvjrrOGongDxeNv"]=base64_decode("ZmllbGRuYW1l");$GLOBALS["QSebwvuKKlcDEyhWJlfq"]=base64_decode("dHlwZW9mZGF0YQ==");$GLOBALS["foilzGfPxrvYZKgcvIHz"]=base64_decode("Y29sdW1ubmFtZQ==");$GLOBALS["zvpLkcswudcDAJCfwaSa"]=base64_decode("dnRpZ2VyX2ludmVudG9yeXByb2R1Y3RyZWw=");$GLOBALS["UWOSrPoabVdXUvKbZUo"]=base64_decode("U0VMRUNUIGZpZWxkbmFtZSwgZmllbGRsYWJlbCwgY29sdW1ubmFtZSwgdWl0eXBlLCB0eXBlb2ZkYXRhIEZST00gdnRpZ2VyX2ZpZWxkIFdIRVJFIHRhYmxlbmFtZSA9ID8gQU5EIHRhYmlkID0gPw==");$GLOBALS["KjFEutbiXrLWZAGxDojb"]=base64_decode("JyB3aWR0aD0nODMnIC8+");$GLOBALS["NOIPCRVkWHEDmruGtHmE"]=base64_decode("Lz4=");$GLOBALS["nZEUPTDtrNxPRJylQGpN"]=base64_decode("c3Jj");$GLOBALS["dpgfkQXVmOcRMsgikPVs"]=base64_decode("PGltZyBzcmM9Jw==");$GLOBALS["GkzmFKmnyiJUCQQaUsEc"]=base64_decode("IGhlaWdodD0n");$GLOBALS["MtgsXRHlGGXfaCOgxXrc"]=base64_decode("aGVpZ2h0");$GLOBALS["PqkONbJkAqIvIHOlaTOf"]=base64_decode("JyA=");$GLOBALS["BrkTYNkxsNIMQDMKGnHO"]=base64_decode("IHdpZHRoPSc=");$GLOBALS["eLyVwtjFiBvrimBqJTZP"]=base64_decode("d2lkdGg=");$GLOBALS["MbajDNJRhmMOwGojscvU"]=base64_decode("Xw==");$GLOBALS["hNgzNgNTrrRvvijhSPU"]=base64_decode("UFJPRFVDVFNfSU1BR0VOQU1F");$GLOBALS["CQqlfrsXLZxEFmLZFKxS"]=base64_decode("UFJPRFVDVFNFUVVFTkNF");$GLOBALS["dbeXEAGmsOcPsVFRRac"]=base64_decode("c2VxdWVuY2Vfbm8=");$GLOBALS["jwgQvJBFKLyujEsdfqUL"]=base64_decode("VE9UQUxTVU1fU3JyVUJUT1RBTCQ=");$GLOBALS["SpbzrNolXvrOFRRXKZBU"]=base64_decode("VE9UQUxfU1VCVE9UQUwk");$GLOBALS["iwfSTxjXnPjdYLliFVlA"]=base64_decode("VE9UQUxBRlRFUkRJU0NPVU5UX1NVQlRPVEFMJA==");$GLOBALS["gGGLCVFQtZZPmPufBSZy"]=base64_decode("JA==");$GLOBALS["ByMkqGkDYpPKFTghHGQ"]=base64_decode("UFJPRFVDVFRPVEFMU1VNX1NVQlRPVEFM");$GLOBALS["ethytdQrsgTaPAbOkjwU"]=base64_decode("UFJPRFVDVFRPVEFMX1NVQlRPVEFM");$GLOBALS["dBvolvIgaRwdfvUufdbp"]=base64_decode("UFJPRFVDVFNUT1RBTEFGVEVSRElTQ09VTlRfU1VCVE9UQUw=");$GLOBALS["xNrDPohiOrHmEVFPLNbl"]=base64_decode("UFJPRFVDVFRPVEFMU1VN");$GLOBALS["uwdiFAQlhDVUtnVDSeFz"]=base64_decode("UFJPRFVDVFNUT1RBTEFGVEVSRElTQ09VTlQ=");$GLOBALS["DQLKLzXeulmTnShSMKbg"]=base64_decode("UFJPRFVDVFNUT1RBTEFGVEVSRElTQ09VTlRTVU0=");$GLOBALS["utwpxafhSTbJWYiNdQbw"]=base64_decode("UFJPRFVDVERJU0NPVU5UUEVSQ0VOVA==");$GLOBALS["jpGtZbxzzSPoWGAc"]=base64_decode("UFJPRFVDVERJU0NPVU5U");$GLOBALS["DlLhmzsOLwywCasFduok"]=base64_decode("UFJPRFVDVFVTQUdFVU5JVA==");$GLOBALS["FneSUkyIQaqXbzFQCGBy"]=base64_decode("UHJvZHVjdHMvU2VydmljZXM=");$GLOBALS["BBlShMCKutKWIqAwyqhk"]=base64_decode("UFJPRFVDVFFUWVBFUlVOSVQ=");$GLOBALS["utEOAOUhsRwUlCwEBTP"]=base64_decode("UFJPRFVDVFBPU0lUSU9O");$GLOBALS["IxnLThNyQFXFDltySmaz"]=base64_decode("UFJPRFVDVFBSSUNF");$GLOBALS["yqwpsZMjvLdmQCuVKHFT"]=base64_decode("UFJPRFVDVFFJTlNUT0NL");$GLOBALS["QfvSRXRAQbxIMxfkadRF"]=base64_decode("UFJPRFVDVFFVQU5USVRZ");$GLOBALS["DHMjlzqCEDIUdTCPeMBJ"]=base64_decode("UFJPRFVDVFRPVEFM");$GLOBALS["UhHpnmbjCrShhGdf"]=base64_decode("UFJPRFVDVExJU1RQUklDRQ==");$GLOBALS["eOuhnBnkowynflcO"]=base64_decode("Q1JNTk9XUFJPRFVDVERFU0NSSVBUSU9O");$GLOBALS["ZOncXGqIicdZnuUoYRgh"]=base64_decode("UFJPRFVDVEVESVRERVNDUklQVElPTg==");$GLOBALS["eablrtoKTQoduNKtFzRZ"]=base64_decode("UFJPRFVDVERFU0NSSVBUSU9O");$GLOBALS["cdDIAKrjdfyUlbfJneqm"]=base64_decode("UFJPRFVDVFRJVExF");$GLOBALS["YuGgZhFFWvHdXKjdvqnG"]=base64_decode("UFJPRFVDVE5BTUU=");$GLOBALS["ucmWyfcQuFyqWRnnOlFH"]=base64_decode("PC9zbWFsbD4=");$GLOBALS["YSDqXALugFQHKltpvSiE"]=base64_decode("PGJyIC8+PHNtYWxsPg==");$GLOBALS["xRWUBviBqIuGCBFEhrjF"]=base64_decode("bg==");$GLOBALS["EnOkKqyKUAbpPnoAGHdt"]=base64_decode("cHNubw==");$GLOBALS["aoMJFGUuDCKWsefgGfFu"]=base64_decode("UFNfTk8=");$GLOBALS["dVHiOOZmepLJUtRcIBBQ"]=base64_decode("UFNfQ1JNSUQ=");$GLOBALS["FBCboxfJjwKwbyDEWSUg"]=base64_decode("UkVDT1JEX0lE");$GLOBALS["qepHIJhDFKFyExqveQBD"]=base64_decode("U2VydmljZXM=");$GLOBALS["koziphZwOUMTQGsAcwmB"]=base64_decode("UFJPRFVDVFNfQ1JNSUQ=");$GLOBALS["hGnadVdSMPDJtvbMnxJM"]=base64_decode("UHJvZHVjdHM=");$GLOBALS["IqolEKWfsjhAvYmtXDzZ"]=base64_decode("U0VSVklDRVNfQ1JNSUQ=");$GLOBALS["rankCLivADPlVdtvgOrL"]=base64_decode("UFJPRFVDVFZBVFNVTQ==");$GLOBALS["SMRwFoNjGQVPNpIyfSCi"]=base64_decode("UFJPRFVDVFZBVFBFUkNFTlQ=");$GLOBALS["gpjhnySSwWjabdoCSQyN"]=base64_decode("UA==");$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]=base64_decode("dmF0");$GLOBALS["UolaZtQWMuDKDchPiEFC"]=base64_decode("bmV0dG8=");$GLOBALS["dxmytxFbRXofSfxUbGRg"]=base64_decode("bGFiZWw=");$GLOBALS["SHZELTscVQrrwixhgxol"]=base64_decode("LQ==");$GLOBALS["GTlZxgLgNUkYZViJMhoh"]=base64_decode("dGF4bGFiZWw=");$GLOBALS["dOLDcYiCWjdfbRaPOgnK"]=base64_decode("dGF4bmFtZQ==");$GLOBALS["ktBIFHKhZmHcxuOteFRi"]=base64_decode("YWxs");$GLOBALS["mbtsxgdDRgJQZqWHvdjj"]=base64_decode("aW5kaXZpZHVhbA==");$GLOBALS["gYBEMiDVkEyaTwgCvVwt"]=base64_decode("TlVMTA==");$GLOBALS["GVqwQCIeQfrBIxKSuoGX"]=base64_decode("ZGlzY291bnRfYW1vdW50");$GLOBALS["rGTYCyhRzOThzVSIMPk"]=base64_decode("ZGlzY291bnRfcGVyY2VudA==");$GLOBALS["ZzVUAifAEwmWAComKIYj"]=base64_decode("bGlzdHByaWNl");$GLOBALS["HKJcQtVbDmpudAhcyLmO"]=base64_decode("dW5pdF9wcmljZQ==");$GLOBALS["KrvdPnAKGOfUrVFFeaqM"]=base64_decode("dXNhZ2V1bml0");$GLOBALS["RywOzRchZqVJLvVRAlfg"]=base64_decode("cXR5X3Blcl91bml0");$GLOBALS["dCtWwgiRDJKTMEQNTlXp"]=base64_decode("cXVhbnRpdHk=");$GLOBALS["tbrIKrObxNMcCZKXDkYY"]=base64_decode("cXR5aW5zdG9jaw==");$GLOBALS["AohdBTLKLxDXDJvzKOAN"]=base64_decode("ZGVzY3JpcHRpb24=");$GLOBALS["oYPsLKVXGNvDcJnUwweF"]=base64_decode("cHNkZXNjcmlwdGlvbg==");$GLOBALS["bVMOTaWSWICwmFctLZZf"]=base64_decode("Y29tbWVudA==");$GLOBALS["UPvzrwvFTajfQSNVdztF"]=base64_decode("PC9zcGFuPg==");$GLOBALS["IzSfSBSTEuLaZmCbaQw"]=base64_decode("PGJyLz48c3BhbiBzdHlsZT0nY29sb3I6I0MwQzBDMDtmb250LXN0eWxlOml0YWxpYzsnPg==");$GLOBALS["MRaCxWUFftybBWkbSinf"]=base64_decode("cHJvZHVjdG5hbWU=");$GLOBALS["znIZKiBqNgAtzKDAOqOR"]=base64_decode("V0hFUkUgaXRzNHlvdV9oaXN0b3JpemVkLmNybWlkID0/IEFORCByZWxpZD0/IEFORCB0eXBlPSdlJyBBTkQgZmllbGRfaWQgPSA/IEFORCBoaXN0b3JpemVkPTE=");$GLOBALS["DnbcEvKcKfnwJKHJBIfK"]=base64_decode("SU5ORVIgSk9JTiB2dGlnZXJfY3JtZW50aXR5IE9OIGl0czR5b3VfaGlzdG9yaXplZC5jcm1pZD12dGlnZXJfY3JtZW50aXR5LmNybWlkIA==");$GLOBALS["tsyTGKhHpTNebgrOnmY"]=base64_decode("U0VMRUNUIGl0czR5b3VfaGlzdG9yaXplZC5sYWJlbCBGUk9NIGl0czR5b3VfaGlzdG9yaXplZCA=");$GLOBALS["OadalxWCWunrvXQLDuFi"]=base64_decode("ZmllbGRpZA==");$GLOBALS["QmINrWXkRUFHvIruljoC"]=base64_decode("QU5EIGNvbHVtbm5hbWU9KFNFTEVDVCBmaWVsZG5hbWUgRlJPTSB2dGlnZXJfZW50aXR5bmFtZSBXSEVSRSBtb2R1bGVuYW1lPT8p");$GLOBALS["MegBtPRMsNMdrRRDPWHQ"]=base64_decode("U0VMRUNUIGZpZWxkaWQgRlJPTSB2dGlnZXJfZmllbGQgV0hFUkUgdGFibGVuYW1lPShTRUxFQ1QgdGFibGVuYW1lIEZST00gdnRpZ2VyX2VudGl0eW5hbWUgV0hFUkUgbW9kdWxlbmFtZT0/KSA=");$GLOBALS["UtxEwnzGwFSBmdxprznn"]=base64_decode("MQ==");$GLOBALS["MPdZRBdzPxaipXypzMLK"]=base64_decode("aGlzdG9yaXplZA==");$GLOBALS["aEoumVMtxSpqQIcrXbVR"]=base64_decode("U0VMRUNUICogRlJPTSB2dGlnZXJfY3JtZW50aXR5IFdIRVJFIGNybWlkID0gPw==");$GLOBALS["yficscyupzJKjhgnRcXw"]=base64_decode("cHJvZF90ZXh0");$GLOBALS["eZrKzfUgBxsaIAHVNXws"]=base64_decode("MA==");$GLOBALS["hOPlHzfOkTozfFFVfQhC"]=base64_decode("cHJvZHVjdF9hZGRfdGV4dA==");$GLOBALS["qWGBneiiEgjuEbCJsSM"]=base64_decode("ZW50aXR5dHlwZQ==");$GLOBALS["TuceBCPeCVQPdPTPXmYo"]=base64_decode("cHNpZA==");$GLOBALS["oQrUDXMRpNHBJcyaVYc"]=base64_decode("aW52cHJvZHVjdGlk");$GLOBALS["EXjkDtDnGJbVXjRxaPUr"]=base64_decode("PGJyPg==");$GLOBALS["FUpMbYtlsAQKuNeaQE"]=base64_decode("IC0g");$GLOBALS["JYNtVdTfHlgJkTOjMvtL"]=base64_decode("Og==");$GLOBALS["cjPFRqUzmVQiskRzNdRK"]=base64_decode("cHJvZHVjdGlk");$GLOBALS["kUfEpSSPeGzANLOsOaJD"]=base64_decode("U0VMRUNUIHByb2R1Y3RpZCBmcm9tIHZ0aWdlcl9pbnZlbnRvcnlzdWJwcm9kdWN0cmVsIFdIRVJFIGlkPT8gQU5EIHNlcXVlbmNlX25vPT8=");$GLOBALS["cJIEdzNXLjyQmZUevWUF"]=base64_decode("MC4wMA==");$GLOBALS["mAArUflijiGbHGqNRAfY"]=base64_decode("dmFsdWU=");$GLOBALS["QZtNAcacFRucIySbsxYz"]=base64_decode("U0VMRUNUIHZhbHVlIEZST00gdnRpZ2VyX3BkZm1ha2VyX2lnbm9yZXBpY2tsaXN0dmFsdWVz");$GLOBALS["lMjMyPFITWiiqHZfxtxv"]=base64_decode("bWFyZ2luX2JvdHRvbQ==");$GLOBALS["lZDWfMAJnjSijWZFinrU"]=base64_decode("bWFyZ2luX3RvcA==");$GLOBALS["RsdKNQMAlNYDUeEIiLfx"]=base64_decode("bWFyZ2luX3JpZ2h0");$GLOBALS["HpDxYNIFYkQrPfBJTpHX"]=base64_decode("bWFyZ2luX2xlZnQ=");$GLOBALS["gokanIpPlLYBmYsSGAVg"]=base64_decode("LUw=");$GLOBALS["zNEJFyoyRIDlRgbygQCg"]=base64_decode("bGFuZHNjYXBl");$GLOBALS["LzOIHtDUiJWNpsdfolK"]=base64_decode("b3JpZW50YXRpb24=");$GLOBALS["mShbXgRxXOFLUpnSxcxS"]=base64_decode("bW0=");$GLOBALS["wcLxwkxbfrZxWjGGaMSc"]=base64_decode("bW0g");$GLOBALS["yKJYEAspYGWeQuaPqCrJ"]=base64_decode("Ow==");$GLOBALS["NqlzCRUnqnTeiBwPnuyS"]=base64_decode("Zm9ybWF0");$GLOBALS["kvBctTPAbRshgOfJxIBp"]=base64_decode("Ym9keQ==");$GLOBALS["BETDEShrCzIfpFrQhiPM"]=base64_decode("Zm9vdGVy");$GLOBALS["NTyQHjsZzEIcCtsiTJfw"]=base64_decode("aGVhZGVy");$GLOBALS["BYlfGekFlIuyrOxhskos"]=base64_decode("ZGVjaW1hbHM=");$GLOBALS["ZUKrugOOGNsUDYpyIlzG"]=base64_decode("IA==");$GLOBALS["unWjnPNRTZQSCkwGEosg"]=base64_decode("c3A=");$GLOBALS["wbGLRuvIXrtHphKYDFEC"]=base64_decode("dGhvdXNhbmRzX3NlcGFyYXRvcg==");$GLOBALS["IOXpxahBixHGDlsyceLo"]=base64_decode("ZGVjaW1hbF9wb2ludA==");$GLOBALS["QuTKXHGADaFhfmdtbHYe"]=base64_decode("U0VMRUNUIHZ0aWdlcl9wZGZtYWtlci4qLCB2dGlnZXJfcGRmbWFrZXJfc2V0dGluZ3MuKiBGUk9NIHZ0aWdlcl9wZGZtYWtlciBMRUZUIEpPSU4gdnRpZ2VyX3BkZm1ha2VyX3NldHRpbmdzIE9OIHZ0aWdlcl9wZGZtYWtlcl9zZXR0aW5ncy50ZW1wbGF0ZWlkID0gdnRpZ2VyX3BkZm1ha2VyLnRlbXBsYXRlaWQgV0hFUkUgdnRpZ2VyX3BkZm1ha2VyLm1vZHVsZT0/IEFORCB2dGlnZXJfcGRmbWFrZXIubW9kdWxlIElOICg/LD8sPyw/KQ==");$GLOBALS["JsPuQXopAGHsqRwURiUS"]=base64_decode("Lw==");$GLOBALS["acCtpDKjFrFZHSNtyELH"]=base64_decode("cmVjb3Jk");$GLOBALS["iSlAbZQyDcuELIIDHCGN"]=base64_decode("ZGVmYXVsdF9jaGFyc2V0");$GLOBALS["FwOuomAXTJPNWdZmXzSq"]=base64_decode("c2l0ZV9VUkw=");$GLOBALS["hqFjUEGnjSMPylTBVsfV"]=base64_decode("dnRpZ2VyX2N1cnJlbnRfdmVyc2lvbg==");$GLOBALS["bNcWBfzFksWAPrLWTfVp"]=base64_decode("TE9HT19QQVRI");$GLOBALS["GYtDGhtQJnfsJZInmpJy"]=base64_decode("TE9HTw==");$GLOBALS["ATOJFenEWclZAYOECFqU"]=base64_decode("bG9nbw==");$GLOBALS["cyACOWvRWyTAwiPDtlod"]=base64_decode("V0VCU0lURQ==");$GLOBALS["ovroohdVdmgTfUAnZKoe"]=base64_decode("d2Vic2l0ZQ==");$GLOBALS["ORBUXHzJRdvXrRcyw"]=base64_decode("RkFY");$GLOBALS["iHeaoeDpsXSKEBwqSioj"]=base64_decode("ZmF4");$GLOBALS["EvOEzeypewREWPhrMGyW"]=base64_decode("UEhPTkU=");$GLOBALS["gRrusqAxOBwNaurItRJ"]=base64_decode("cGhvbmU=");$GLOBALS["GYoSwQRmTsGyjINcMLtJ"]=base64_decode("Q09VTlRSWQ==");$GLOBALS["aZzMdBhbufLuOgchTdfq"]=base64_decode("Y291bnRyeQ==");$GLOBALS["RNzeSvZSUsUnWfHNgFLH"]=base64_decode("WklQ");$GLOBALS["VdzdGRygOfNJSqBDscBm"]=base64_decode("Y29kZQ==");$GLOBALS["rnLRxdRHoccvmnlzgvE"]=base64_decode("U1RBVEU=");$GLOBALS["oRRZxDQtTqFWzFUVtVM"]=base64_decode("c3RhdGU=");$GLOBALS["LzfPfouHYmTQwiTzUmpt"]=base64_decode("Q0lUWQ==");$GLOBALS["ktAaxmMTpCOhpvCfQcaH"]=base64_decode("Y2l0eQ==");$GLOBALS["KlPOxkRCKwdoFILJwXaF"]=base64_decode("QUREUkVTUw==");$GLOBALS["egEumNgNDFpZXRMtNOtD"]=base64_decode("YWRkcmVzcw==");$GLOBALS["waPooTlzBcKWGxagUJVM"]=base64_decode("TkFNRQ==");$GLOBALS["cruoBksSzrhaUrQpXCI"]=base64_decode("b3JnYW5pemF0aW9ubmFtZQ==");$GLOBALS["IcYKjorgxdbnEaMKCIGN"]=base64_decode("c3Rvcm5vaW52b2ljZV9pZA==");$GLOBALS["dgqYJAIrtSbjDfnpGaYd"]=base64_decode("Y3JlZGl0bm90ZV9pZA==");$GLOBALS["ELbCHOMMBhNRfXKiZDhB"]=base64_decode("cmVjZWlwdGNhcmRpZA==");$GLOBALS["YGbZlSkHCtBWuvXoOjrH"]=base64_decode("aXNzdWVjYXJkaWQ=");$GLOBALS["rovKeLQoQQGBcvvGeoE"]=base64_decode("aW52b2ljZWlk");$GLOBALS["FhWYNshVaKHgYByqyo"]=base64_decode("cXVvdGVpZA==");$GLOBALS["GMxwZaVqWjstzlKzVvuB"]=base64_decode("c2FsZXNvcmRlcmlk");$GLOBALS["AttWDSYDHMnQnyPjQww"]=base64_decode("cHVyY2hhc2VvcmRlcmlk");$GLOBALS["TRJVqPcjkimvBtRatg"]=base64_decode("dnRpZ2VyX3N0b3Jub2ludm9pY2U=");$GLOBALS["WYkrVUlgJaOubDwxZYog"]=base64_decode("U3Rvcm5vSW52b2ljZQ==");$GLOBALS["cqakUvgvApMZFSfuzcxM"]=base64_decode("dnRpZ2VyX2NyZWRpdG5vdGU=");$GLOBALS["lLDwOLcCKCdwUzILstZz"]=base64_decode("Q3JlZGl0bm90ZQ==");$GLOBALS["jFuifzyuXZiFExqhOrSC"]=base64_decode("dnRpZ2VyX3JlY2VpcHRjYXJkcw==");$GLOBALS["ptiVkIhuvCxaJKzlEgUm"]=base64_decode("UmVjZWlwdGNhcmRz");$GLOBALS["XfNPeeUgshfhDTFifxdJ"]=base64_decode("dnRpZ2VyX2lzc3VlY2FyZHM=");$GLOBALS["qokMJflLLbuilLdPhYV"]=base64_decode("SXNzdWVjYXJkcw==");$GLOBALS["ITHkNDJFLXRoqjZzfzbI"]=base64_decode("dnRpZ2VyX2ludm9pY2U=");$GLOBALS["xlhXzKJjUPnSQENqnbFQ"]=base64_decode("SW52b2ljZQ==");$GLOBALS["YcDxZNPPpFWkPeUVSSCt"]=base64_decode("dnRpZ2VyX3F1b3Rlcw==");$GLOBALS["EcuWdctvieeHLQVZNjAp"]=base64_decode("UXVvdGVz");$GLOBALS["rTQThZPGaieNvtaJlpJy"]=base64_decode("dnRpZ2VyX3NhbGVzb3JkZXI=");$GLOBALS["tHCCvVEpNgFKNJZMECUX"]=base64_decode("U2FsZXNPcmRlcg==");$GLOBALS["mHtQStIqkrpFezHmeQyx"]=base64_decode("dnRpZ2VyX3B1cmNoYXNlb3JkZXI=");$GLOBALS["sYmwKIkFUocOBOnHxsYP"]=base64_decode("UHVyY2hhc2VPcmRlcg==");$GLOBALS["hIqEfWgzmLhKXoYWtEls"]=base64_decode("JiMlSVRTJSUlQEBAJSUlSVRTJSMm");$GLOBALS["aqqiSbTsnVsXJBcjYuWH"]=base64_decode("PHJvd2JyZWFrIC8+");$GLOBALS["SnsSSwMKZSYeMFnEirnh"]=base64_decode("");$GLOBALS["oaKECnbxhigoZffcOjs"]=base64_decode("MjU2TQ==");$GLOBALS["JPJALbIjKlmosFKRzHUY"]=base64_decode("bWVtb3J5X2xpbWl0");
?><?php $memory_limit = substr(ini_get($GLOBALS["JPJALbIjKlmosFKRzHUY"]), 0, -1); if ($memory_limit < 256) { ini_set($GLOBALS["JPJALbIjKlmosFKRzHUY"], $GLOBALS["oaKECnbxhigoZffcOjs"]); } class PDFMaker_PDFContent_Model extends PDFMaker_PDFContentUtils_Model { private static $is_inventory_module = false; private static $module; private static $language; private static $focus; private static $db; private static $mod_strings; private static $def_charset; private static $site_url; private static $decimal_point; private static $thousands_separator; private static $decimals; public static $pagebreak = ""; private static $rowbreak = "<rowbreak />"; private static $ignored_picklist_values = array(); private static $header; private static $footer; private static $body; private static $content; private static $section_sep = "&#%ITS%%%@@@%%%ITS%#&"; private static $rep; private static $execution_time_start; private static $inventory_table_array = Array("PurchaseOrder" => "vtiger_purchaseorder","SalesOrder" => "vtiger_salesorder","Quotes" => "vtiger_quotes","Invoice" => "vtiger_invoice","Issuecards" => "vtiger_issuecards","Receiptcards" => "vtiger_receiptcards","Creditnote" => "vtiger_creditnote","StornoInvoice" => "vtiger_stornoinvoice"); private static $inventory_id_array = Array("PurchaseOrder" => "purchaseorderid","SalesOrder" => "salesorderid","Quotes" => "quoteid","Invoice" => "invoiceid","Issuecards" => "issuecardid","Receiptcards" => "receiptcardid","Creditnote" => "creditnote_id","StornoInvoice" => "stornoinvoice_id"); private static $org_colsOLD = array("organizationname" => "NAME","address" => "ADDRESS","city" => "CITY","state" => "STATE","code" => "ZIP","country" => "COUNTRY","phone" => "PHONE","fax" => "FAX","website" => "WEBSITE","logo" => "LOGO"); public static $bridge2mpdf = array(); function __construct($l_module, $l_focus, $l_language){ parent::__construct(); if( !defined($GLOBALS["RulYYdOpoSYywKCOaueE"]) ){ define($GLOBALS["bNcWBfzFksWAPrLWTfVp"],$GLOBALS["TBeKmrrVAoQMAfUVbYbS"]); } PDFMaker_Debugger_Model::GetInstance()->Init(); $v = $GLOBALS["hqFjUEGnjSMPylTBVsfV"]; $vcv = vglobal($v); $i = $GLOBALS["FwOuomAXTJPNWdZmXzSq"]; $salt = vglobal($i); $d = $GLOBALS["iSlAbZQyDcuELIIDHCGN"]; $dc = vglobal($d); self::$db = PearDatabase::getInstance(); self::$def_charset = $dc; self::$module = $l_module; self::$focus = $l_focus; self::$language = $l_language; $mod_strings_array = Vtiger_Language_Handler::getModuleStringsFromFile(self::$language, self::$module); self::$mod_strings = $mod_strings_array[$GLOBALS["eVroHgpFiySqVOtUOKzB"]]; $this->PDFMaker = new PDFMaker_PDFMaker_Model(); $this->getTemplateData(); $this->getIgnoredPicklistValues(); self::$bridge2mpdf[$GLOBALS["acCtpDKjFrFZHSNtyELH"]] = self::$focus->id; self::$is_inventory_module[self::$module] = $this->isInventoryModule(self::$module); } private function getTemplateData(){ $i = $GLOBALS["FwOuomAXTJPNWdZmXzSq"]; $salt = vglobal($i); self::$site_url = trim($salt, $GLOBALS["JsPuQXopAGHsqRwURiUS"]); $result = self::$db->pquery($GLOBALS["QuTKXHGADaFhfmdtbHYe"], array(self::$module,'Invoice','Quotes','SalesOrder','PurchaseOrder')); $data = self::$db->fetch_array($result); self::$decimal_point = html_entity_decode($data[$GLOBALS["IOXpxahBixHGDlsyceLo"]], ENT_QUOTES); self::$thousands_separator = html_entity_decode(($data[$GLOBALS["wbGLRuvIXrtHphKYDFEC"]] != $GLOBALS["unWjnPNRTZQSCkwGEosg"] ? $data[$GLOBALS["wbGLRuvIXrtHphKYDFEC"]] : $GLOBALS["ZUKrugOOGNsUDYpyIlzG"]), ENT_QUOTES); self::$decimals = $data[$GLOBALS["BYlfGekFlIuyrOxhskos"]]; self::$header = $data[$GLOBALS["NTyQHjsZzEIcCtsiTJfw"]]; self::$footer = $data[$GLOBALS["BETDEShrCzIfpFrQhiPM"]]; self::$body = $data[$GLOBALS["kvBctTPAbRshgOfJxIBp"]]; $formatPB = $data[$GLOBALS["NqlzCRUnqnTeiBwPnuyS"]]; if (strpos($formatPB, $GLOBALS["yKJYEAspYGWeQuaPqCrJ"]) > 0) { $tmpArr = explode($GLOBALS["yKJYEAspYGWeQuaPqCrJ"], $formatPB); $formatPB = $tmpArr[0] . $GLOBALS["wcLxwkxbfrZxWjGGaMSc"] . $tmpArr[1] . $GLOBALS["mShbXgRxXOFLUpnSxcxS"]; } elseif ($data[$GLOBALS["LzOIHtDUiJWNpsdfolK"]] == $GLOBALS["zNEJFyoyRIDlRgbygQCg"]) { $formatPB .= $GLOBALS["gokanIpPlLYBmYsSGAVg"]; } self::$pagebreak = $GLOBALS["aWgclZlOVokaNkeGZLio"] . $formatPB . $GLOBALS["ODALcGLzptTglvvdpsoE"] . $data[$GLOBALS["LzOIHtDUiJWNpsdfolK"]] . $GLOBALS["ZJBdGOIOoapaxqYkktiX"] . ($data[$GLOBALS["HpDxYNIFYkQrPfBJTpHX"]] * 10) . $GLOBALS["vIiwzwTwiCcsYCZzVuzw"] . ($data[$GLOBALS["RsdKNQMAlNYDUeEIiLfx"]] * 10) . $GLOBALS["rgEMuDhnmWtifbdAEXZC"] . ($data[$GLOBALS["lZDWfMAJnjSijWZFinrU"]] * 10) . $GLOBALS["fBDSvvLmYooOPiqYFqVF"] . ($data[$GLOBALS["lMjMyPFITWiiqHZfxtxv"]] * 10) . $GLOBALS["FIecrTCvZaDsfQlJasUc"]; } private function getIgnoredPicklistValues(){ $result = self::$db->pquery($GLOBALS["QZtNAcacFRucIySbsxYz"], array()); while ($row = self::$db->fetchByAssoc($result)) { self::$ignored_picklist_values[] = $row[$GLOBALS["mAArUflijiGbHGqNRAfY"]]; } } private function getInventoryProducts($module, $focus){ $taxtype = $this->getInventoryTaxTypeCustom($module, $focus); $i = $num_rows = 0; if (!empty($focus->id)) { $query = $this->getInventoryProductsQuery(); $result = self::$db->pquery($query, array($focus->id)); $num_rows = self::$db->num_rows($result); list($images, $bacImgs) = $this->getInventoryImages($focus->id); } $taxtotal = $total_vat_percent = $sumwithoutvat = $netTotal = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; $totalAfterDiscount_subtotal = $total_subtotal = $totalsum_subtotal = 0; $Vat_Block = $mpdfSubtotalAble = $Total_Tax_Values = array(); if ($num_rows > 0){ while ($row1 = self::$db->fetchByAssoc($result)) { $i++; $sub_prod_query = self::$db->pquery($GLOBALS["kUfEpSSPeGzANLOsOaJD"], array($focus->id, $i)); $subprodname_str = $GLOBALS["tugkmwKQmrdyfghQnRJj"]; if (self::$db->num_rows($sub_prod_query) > 0) { for ($j = 0; $j < self::$db->num_rows($sub_prod_query); $j++) { $sprod_id = self::$db->query_result($sub_prod_query, $j, $GLOBALS["cjPFRqUzmVQiskRzNdRK"]); $sprod_name = getProductName($sprod_id); $str_sep = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if ($j > 0) { $str_sep = $GLOBALS["JYNtVdTfHlgJkTOjMvtL"]; } $subprodname_str .= $str_sep . $GLOBALS["FUpMbYtlsAQKuNeaQE"] . $sprod_name; } } $subprodname_str = str_replace($GLOBALS["JYNtVdTfHlgJkTOjMvtL"], $GLOBALS["EXjkDtDnGJbVXjRxaPUr"], $subprodname_str); $invproductid = $row1[$GLOBALS["oQrUDXMRpNHBJcyaVYc"]]; $psid = $row1[$GLOBALS["TuceBCPeCVQPdPTPXmYo"]]; $productid = $row1[$GLOBALS["cjPFRqUzmVQiskRzNdRK"]]; $entitytype = $row1[$GLOBALS["qWGBneiiEgjuEbCJsSM"]]; $productname = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; $pat = $GLOBALS["hOPlHzfOkTozfFFVfQhC"]; $product_add_text = vglobal($pat); if ($product_add_text && $invproductid == $GLOBALS["eZrKzfUgBxsaIAHVNXws"] && (isset($row1[$GLOBALS["yficscyupzJKjhgnRcXw"]]) && !empty($row1[$GLOBALS["yficscyupzJKjhgnRcXw"]]))){ $producttitle = $productname = $row1[$GLOBALS["yficscyupzJKjhgnRcXw"]]; } else { $res2 = self::$db->pquery($GLOBALS["aEoumVMtxSpqQIcrXbVR"],array($focus->id)); $CData = self::$db->fetchByAssoc($res2, 0); if (isset($CData[$GLOBALS["MPdZRBdzPxaipXypzMLK"]]) && $CData[$GLOBALS["MPdZRBdzPxaipXypzMLK"]] == $GLOBALS["UtxEwnzGwFSBmdxprznn"]){ $referenceModuleName = getSalesEntityType($productid); $field_res = self::$db->pquery($GLOBALS["MegBtPRMsNMdrRRDPWHQ"] . $GLOBALS["QmINrWXkRUFHvIruljoC"], Array($referenceModuleName,$referenceModuleName)); $fieldid = self::$db->query_result($field_res, 0,$GLOBALS["OadalxWCWunrvXQLDuFi"] ); $label_res = self::$db->pquery($GLOBALS["tsyTGKhHpTNebgrOnmY"] . $GLOBALS["DnbcEvKcKfnwJKHJBIfK"] . $GLOBALS["znIZKiBqNgAtzKDAOqOR"], array($focus->id,$productid,$fieldid )); if($label_res != false && self::$db->num_rows($label_res) != 0) { $producttitle = $productname = self::$db->query_result($label_res, 0, $GLOBALS["UWIPgjxFofMMrcoIwgFn"]); } } else { if ($row1[$GLOBALS["MRaCxWUFftybBWkbSinf"]] == $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $p_module = getSalesEntityType($productid); $displayPValueArray = getEntityName($p_module, $productid); if (!empty($displayPValueArray)){ foreach ($displayPValueArray as $p_value){ $producttitle = $productname = $p_value; } } } else { $producttitle = $productname = $row1[$GLOBALS["MRaCxWUFftybBWkbSinf"]]; } } } if ($subprodname_str != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]) { $productname .= $GLOBALS["IzSfSBSTEuLaZmCbaQw"] . $subprodname_str . $GLOBALS["UPvzrwvFTajfQSNVdztF"]; } $comment = $row1[$GLOBALS["bVMOTaWSWICwmFctLZZf"]]; $psdescription = $row1[$GLOBALS["oYPsLKVXGNvDcJnUwweF"]]; $inventory_prodrel_desc = $row1[$GLOBALS["AohdBTLKLxDXDJvzKOAN"]]; $qtyinstock = $row1[$GLOBALS["tbrIKrObxNMcCZKXDkYY"]]; $qty = $row1[$GLOBALS["dCtWwgiRDJKTMEQNTlXp"]]; $qty_per_unit = $row1[$GLOBALS["RywOzRchZqVJLvVRAlfg"]]; $usageunit = $row1[$GLOBALS["KrvdPnAKGOfUrVFFeaqM"]]; $unitprice = $row1[$GLOBALS["HKJcQtVbDmpudAhcyLmO"]]; $listprice = $row1[$GLOBALS["ZzVUAifAEwmWAComKIYj"]]; $total = $qty * $listprice; $discount_percent = $row1[$GLOBALS["rGTYCyhRzOThzVSIMPk"]]; $discount_amount = $row1[$GLOBALS["GVqwQCIeQfrBIxKSuoGX"]]; $totalAfterDiscount = $total; $productDiscount = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; $productDiscountPercent = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if ($discount_percent != $GLOBALS["gYBEMiDVkEyaTwgCvVwt"] && $discount_percent != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $productDiscount = $total * $discount_percent / 100; $totalAfterDiscount = $total - $productDiscount; $productDiscountPercent = $discount_percent; } elseif ($discount_amount != $GLOBALS["gYBEMiDVkEyaTwgCvVwt"] && $discount_amount != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $productDiscount = $discount_amount; $totalAfterDiscount = $total - $productDiscount; } $netprice = $totalAfterDiscount; if ($taxtype == $GLOBALS["mbtsxgdDRgJQZqWHvdjj"]){ $taxtotal = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; $tax_details = getTaxDetailsForProduct($productid, $GLOBALS["ktBIFHKhZmHcxuOteFRi"]); $Tax_Values = array(); for ($tax_count = 0; $tax_count < count($tax_details); $tax_count++){ $tax_name = $tax_details[$tax_count][$GLOBALS["dOLDcYiCWjdfbRaPOgnK"]]; $tax_label = $tax_details[$tax_count][$GLOBALS["GTlZxgLgNUkYZViJMhoh"]]; $tax_value = getInventoryProductTaxValue($focus->id, $productid, $tax_name); $individual_taxamount = $totalAfterDiscount * $tax_value / 100; $taxtotal = $taxtotal + $individual_taxamount; if ($tax_name != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $Vat_Block[$tax_name . $GLOBALS["SHZELTscVQrrwixhgxol"] . $tax_value][$GLOBALS["dxmytxFbRXofSfxUbGRg"]] = $tax_label; $Vat_Block[$tax_name . $GLOBALS["SHZELTscVQrrwixhgxol"] . $tax_value][$GLOBALS["UolaZtQWMuDKDchPiEFC"]] += $totalAfterDiscount; $Vat_Block[$tax_name . $GLOBALS["SHZELTscVQrrwixhgxol"] . $tax_value][$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]] += round($individual_taxamount, self::$decimals); $Vat_Block[$tax_name . $GLOBALS["SHZELTscVQrrwixhgxol"] . $tax_value][$GLOBALS["mAArUflijiGbHGqNRAfY"]] = $tax_value; array_push($Tax_Values, $tax_value); array_push($Total_Tax_Values, $tax_value); } } $netprice = $netprice + $taxtotal; if (count($Tax_Values) > 0) { $tax_avg_value = array_sum($Tax_Values); } else { $tax_avg_value = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["SMRwFoNjGQVPNpIyfSCi"]] = $this->formatNumberToPDF($tax_avg_value); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["rankCLivADPlVdtvgOrL"]] = $this->formatNumberToPDF($taxtotal); } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["IqolEKWfsjhAvYmtXDzZ"]] = $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["IqolEKWfsjhAvYmtXDzZ"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if ($entitytype == $GLOBALS["hGnadVdSMPDJtvbMnxJM"]) { $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["koziphZwOUMTQGsAcwmB"]] = $psid; } elseif ($entitytype == $GLOBALS["qepHIJhDFKFyExqveQBD"]) { $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["IqolEKWfsjhAvYmtXDzZ"]] = $psid; } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["FBCboxfJjwKwbyDEWSUg"]] = $psid; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["dVHiOOZmepLJUtRcIBBQ"]] = $psid; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["aoMJFGUuDCKWsefgGfFu"]] = $row1[$GLOBALS["EnOkKqyKUAbpPnoAGHdt"]]; if ($comment != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]) { if( strpos($comment,$GLOBALS["zdYGLGPPVdmxjyaftI"]) === false && strpos($comment,$GLOBALS["GSImnIfLsySEOdXkzpWG"]) === false && strpos($comment,$GLOBALS["lbmRgYVjvlCndWvnTOxT"]) === false) { $comment = str_replace($GLOBALS["SnsSSwMKZSYeMFnEirnh"]."\\".$GLOBALS["xRWUBviBqIuGCBFEhrjF"], $GLOBALS["EXjkDtDnGJbVXjRxaPUr"], nl2br($comment)); } $comment = html_entity_decode($comment, ENT_QUOTES, self::$def_charset); $productname .= $GLOBALS["YSDqXALugFQHKltpvSiE"] . $comment . $GLOBALS["ucmWyfcQuFyqWRnnOlFH"]; } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["YuGgZhFFWvHdXKjdvqnG"]] = $productname; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["cdDIAKrjdfyUlbfJneqm"]] = $producttitle; if( strpos($psdescription,$GLOBALS["zdYGLGPPVdmxjyaftI"]) === false && strpos($psdescription,$GLOBALS["GSImnIfLsySEOdXkzpWG"]) === false && strpos($psdescription,$GLOBALS["lbmRgYVjvlCndWvnTOxT"]) === false) { $psdescription = str_replace($GLOBALS["SnsSSwMKZSYeMFnEirnh"]."\\".$GLOBALS["xRWUBviBqIuGCBFEhrjF"], $GLOBALS["EXjkDtDnGJbVXjRxaPUr"], nl2br($psdescription)); } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["eablrtoKTQoduNKtFzRZ"]] = html_entity_decode($psdescription, ENT_QUOTES, self::$def_charset); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["ZOncXGqIicdZnuUoYRgh"]] = $comment; if( strpos($inventory_prodrel_desc,$GLOBALS["zdYGLGPPVdmxjyaftI"]) === false && strpos($inventory_prodrel_desc,$GLOBALS["GSImnIfLsySEOdXkzpWG"]) === false && strpos($inventory_prodrel_desc,$GLOBALS["lbmRgYVjvlCndWvnTOxT"]) === false) { $inventory_prodrel_desc = str_replace($GLOBALS["SnsSSwMKZSYeMFnEirnh"]."\\".$GLOBALS["xRWUBviBqIuGCBFEhrjF"], $GLOBALS["EXjkDtDnGJbVXjRxaPUr"], nl2br($inventory_prodrel_desc)); } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["eOuhnBnkowynflcO"]] = html_entity_decode($inventory_prodrel_desc, ENT_QUOTES, self::$def_charset); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["UhHpnmbjCrShhGdf"]] = $this->formatNumberToPDF($listprice); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["DHMjlzqCEDIUdTCPeMBJ"]] = $this->formatNumberToPDF($total); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["QfvSRXRAQbxIMxfkadRF"]] = $this->formatNumberToPDF($qty); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["yqwpsZMjvLdmQCuVKHFT"]] = $this->formatNumberToPDF($qtyinstock); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["IxnLThNyQFXFDltySmaz"]] = $this->formatNumberToPDF($unitprice); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["utEOAOUhsRwUlCwEBTP"]] = $i; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["BBlShMCKutKWIqAwyqhk"]] = $this->formatNumberToPDF($qty_per_unit); $value = $usageunit; if (!in_array(trim($value), self::$ignored_picklist_values)) { $value = $this->getTranslatedStringCustom($value, $GLOBALS["FneSUkyIQaqXbzFQCGBy"],self::$language); } else { $value = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["DlLhmzsOLwywCasFduok"]] = $value; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["jpGtZbxzzSPoWGAc"]] = $this->formatNumberToPDF($productDiscount); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["utwpxafhSTbJWYiNdQbw"]] = $this->formatNumberToPDF($productDiscountPercent); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["DQLKLzXeulmTnShSMKbg"]] = $totalAfterDiscount; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["uwdiFAQlhDVUtnVDSeFz"]] = $this->formatNumberToPDF($totalAfterDiscount); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["xNrDPohiOrHmEVFPLNbl"]] = $this->formatNumberToPDF($totalAfterDiscount + $taxtotal); $totalAfterDiscount_subtotal += $totalAfterDiscount; $total_subtotal += $total; $totalsum_subtotal+= $totalAfterDiscount + $taxtotal; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["dBvolvIgaRwdfvUufdbp"]] = $this->formatNumberToPDF($totalAfterDiscount_subtotal); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["ethytdQrsgTaPAbOkjwU"]] = $this->formatNumberToPDF($total_subtotal); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["ByMkqGkDYpPKFTghHGQ"]] = $this->formatNumberToPDF($totalsum_subtotal); $mpdfSubtotalAble[$i][$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["iwfSTxjXnPjdYLliFVlA"]] = $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["dBvolvIgaRwdfvUufdbp"]]; $mpdfSubtotalAble[$i][$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["SpbzrNolXvrOFRRXKZBU"]] = $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["ethytdQrsgTaPAbOkjwU"]]; $mpdfSubtotalAble[$i][$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["jwgQvJBFKLyujEsdfqUL"]] = $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["ByMkqGkDYpPKFTghHGQ"]]; $sequence = $row1[$GLOBALS["dbeXEAGmsOcPsVFRRac"]]; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["CQqlfrsXLZxEFmLZFKxS"]] = $sequence; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["hNgzNgNTrrRvvijhSPU"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (isset($images[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence])){ $width = $height = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if ($images[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence][$GLOBALS["eLyVwtjFiBvrimBqJTZP"]] > 0) $width = $GLOBALS["BrkTYNkxsNIMQDMKGnHO"] . $images[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence][$GLOBALS["eLyVwtjFiBvrimBqJTZP"]] . $GLOBALS["PqkONbJkAqIvIHOlaTOf"]; if ($images[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence][$GLOBALS["MtgsXRHlGGXfaCOgxXrc"]] > 0) $height = $GLOBALS["GkzmFKmnyiJUCQQaUsEc"] . $images[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence][$GLOBALS["MtgsXRHlGGXfaCOgxXrc"]] . $GLOBALS["PqkONbJkAqIvIHOlaTOf"]; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["hNgzNgNTrrRvvijhSPU"]] = $GLOBALS["dpgfkQXVmOcRMsgikPVs"] . self::$site_url . $GLOBALS["JsPuQXopAGHsqRwURiUS"] . $images[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence][$GLOBALS["nZEUPTDtrNxPRJylQGpN"]] . $GLOBALS["PqkONbJkAqIvIHOlaTOf"] . $width . $height . $GLOBALS["NOIPCRVkWHEDmruGtHmE"]; } elseif (isset($bacImgs[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence])){ $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["hNgzNgNTrrRvvijhSPU"]] = $GLOBALS["dpgfkQXVmOcRMsgikPVs"] . self::$site_url . $GLOBALS["JsPuQXopAGHsqRwURiUS"] . $bacImgs[$productid . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $sequence][$GLOBALS["nZEUPTDtrNxPRJylQGpN"]] . $GLOBALS["KjFEutbiXrLWZAGxDojb"]; } $tabid = getTabid($module); $result2 = self::$db->pquery($GLOBALS["UWOSrPoabVdXUvKbZUo"], array("vtiger_inventoryproductrel",$tabid)); while ($row2 = self::$db->fetchByAssoc($result2)) { $UITypes = array(); $load_value = $row1[$row2["columnname"]]; $uitype_name = $this->getUITypeName($row2['uitype'],$row2["typeofdata"]); if ($uitype_name != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]) $UITypes[$uitype_name][] = $row2[$GLOBALS["GeNxKHvjrrOGongDxeNv"]]; $value = $this->getFieldValue($focus,$module,$row2[$GLOBALS["GeNxKHvjrrOGongDxeNv"]],$load_value,$UITypes); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["OmzvgpLgbWvoehcpRLhL"].strtoupper($row2[$GLOBALS["GeNxKHvjrrOGongDxeNv"]])] = $value; } $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["znWPsvMfrWkXTpzWLMXf"]] = $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i][$GLOBALS["hNgzNgNTrrRvvijhSPU"]]; $focus_p = CRMEntity::getInstance($GLOBALS["hGnadVdSMPDJtvbMnxJM"]); if ($entitytype == $GLOBALS["hGnadVdSMPDJtvbMnxJM"] && $psid != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]) { $focus_p->id = $psid; $this->retrieve_entity_infoCustom($focus_p, $psid, $GLOBALS["hGnadVdSMPDJtvbMnxJM"]); } $currencytype = $this->getInventoryCurrencyInfoCustom($module, $focus); $Array_P = $this->replaceFieldsToContent($GLOBALS["hGnadVdSMPDJtvbMnxJM"], $focus_p, false, $currencytype); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i] = array_merge($Array_P, $Details["P"][$i]); unset($focus_p); $focus_s = CRMEntity::getInstance($GLOBALS["qepHIJhDFKFyExqveQBD"]); if ($entitytype == $GLOBALS["qepHIJhDFKFyExqveQBD"] && $psid != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]) { $focus_s->id = $psid; $this->retrieve_entity_infoCustom($focus_s, $psid, $GLOBALS["qepHIJhDFKFyExqveQBD"]); } $Array_S = $this->replaceFieldsToContent($GLOBALS["qepHIJhDFKFyExqveQBD"], $focus_s, false, $currencytype); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$i] = array_merge($Array_S, $Details["P"][$i]); unset($focus_s); $sumwithoutvat += $totalAfterDiscount; $netTotal = $netTotal + $netprice; } } if (self::$module == $module){ self::$bridge2mpdf[$GLOBALS["UHBSErUELaMZHciHPabH"]] = $mpdfSubtotalAble; } $finalDiscount = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; $finalDiscountPercent = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if ($focus->column_fields[$GLOBALS["BCpWZcJloJkUfyEqayTa"]] != $GLOBALS["SnsSSwMKZSYeMFnEirnh"] && $focus->column_fields[$GLOBALS["BCpWZcJloJkUfyEqayTa"]] <> 0){ $finalDiscount = ($netTotal * $focus->column_fields[$GLOBALS["BCpWZcJloJkUfyEqayTa"]] / 100); $finalDiscountPercent = $focus->column_fields[$GLOBALS["BCpWZcJloJkUfyEqayTa"]]; } elseif ($focus->column_fields[$GLOBALS["XAAvyZirgRkxWSjorSQN"]] != $GLOBALS["eZrKzfUgBxsaIAHVNXws"] && $focus->column_fields[$GLOBALS["XAAvyZirgRkxWSjorSQN"]] != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $finalDiscount = $focus->column_fields[$GLOBALS["XAAvyZirgRkxWSjorSQN"]]; } $taxtotal = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; if ($taxtype == $GLOBALS["TsGeVYpzichUTvoPIhCB"]){ $final_totalAfterDiscount = $netTotal - $finalDiscount; $tax_details = getAllTaxes($GLOBALS["vKrKjFDQeFZzQskPVtYY"], $GLOBALS["SnsSSwMKZSYeMFnEirnh"], $GLOBALS["uLRnVtMhilkBTFcYCNJI"], $focus->id); for ($tax_count = 0; $tax_count < count($tax_details); $tax_count++){ $tax_name = $tax_details[$tax_count][$GLOBALS["dOLDcYiCWjdfbRaPOgnK"]]; $tax_label = $tax_details[$tax_count][$GLOBALS["GTlZxgLgNUkYZViJMhoh"]]; $tax_value = self::$db->query_result($result, 0, $tax_name); if ($tax_value == $GLOBALS["SnsSSwMKZSYeMFnEirnh"] || $tax_value == $GLOBALS["gYBEMiDVkEyaTwgCvVwt"]) $tax_value = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; $taxamount = ($netTotal - $finalDiscount) * $tax_value / 100; $taxtotal = ($taxtotal + $taxamount); if ($tax_name != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $Vat_Block[$tax_name][$GLOBALS["dxmytxFbRXofSfxUbGRg"]] = $tax_label; $Vat_Block[$tax_name][$GLOBALS["UolaZtQWMuDKDchPiEFC"]] = $final_totalAfterDiscount; if (isset($Vat_Block[$tax_name][$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]])) { $Vat_Block[$tax_name][$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]] += $taxamount; } else { $Vat_Block[$tax_name][$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]] = $taxamount; } $Vat_Block[$tax_name][$GLOBALS["mAArUflijiGbHGqNRAfY"]] = $tax_value; } $total_vat_percent += $tax_value; } $vat_value = $taxtotal; foreach ($Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]] as $keyP => $valueP){ $productvatsum = ($Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$keyP][$GLOBALS["DQLKLzXeulmTnShSMKbg"]] * $total_vat_percent) / 100; $producttotalsum = $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$keyP][$GLOBALS["DQLKLzXeulmTnShSMKbg"]] + $productvatsum; $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$keyP][$GLOBALS["SMRwFoNjGQVPNpIyfSCi"]] = $this->formatNumberToPDF($total_vat_percent); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$keyP][$GLOBALS["rankCLivADPlVdtvgOrL"]] = $this->formatNumberToPDF($productvatsum); $Details[$GLOBALS["gpjhnySSwWjabdoCSQyN"]][$keyP][$GLOBALS["xNrDPohiOrHmEVFPLNbl"]] = $this->formatNumberToPDF($producttotalsum); } } else { $vat_value = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; if (count($Vat_Block) > 0){ foreach ($Vat_Block as $keyM => $valueM){ $vat_value += $valueM[$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]]; } } } $shAmount = ($focus->column_fields[$GLOBALS["KpLzjHGOByfDjxryiRCc"]] != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]) ? $focus->column_fields[$GLOBALS["KpLzjHGOByfDjxryiRCc"]] : $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; $shtaxtotal = $GLOBALS["cJIEdzNXLjyQmZUevWUF"]; if (!empty($focus->id)){ $shtax_details = getAllTaxes($GLOBALS["vKrKjFDQeFZzQskPVtYY"], $GLOBALS["kCunpSTYqVraBzHsTyO"], $GLOBALS["uLRnVtMhilkBTFcYCNJI"], $focus->id); for ($shtax_count = 0; $shtax_count < count($shtax_details); $shtax_count++){ $shtax_name = $shtax_details[$shtax_count][$GLOBALS["dOLDcYiCWjdfbRaPOgnK"]]; $shtax_label = $shtax_details[$shtax_count][$GLOBALS["GTlZxgLgNUkYZViJMhoh"]]; $shtax_percent = getInventorySHTaxPercent($focus->id, $shtax_name); $shtaxamount = $shAmount * $shtax_percent / 100; $shtaxtotal = $shtaxtotal + $shtaxamount; } } $totalafterdiscount = $sumwithoutvat - $finalDiscount; $totalwithvat = ($sumwithoutvat - $finalDiscount) + $vat_value; $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["PEhePFdZQqbBRxxogoVw"]] = $this->formatNumberToPDF($netTotal); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["dUJvsKZzuDJEfQObNxzY"]] = $this->formatNumberToPDF($sumwithoutvat); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["SDAPUHbTcvZMzFpCNqtI"]] = $this->formatNumberToPDF($finalDiscount); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["aDwbOnJKWwhQMqFPNKI"]] = $this->formatNumberToPDF($finalDiscountPercent); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["hzbnSLrKuTMVxMNiiqpx"]] = $this->formatNumberToPDF($totalafterdiscount); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["nTmAlahELxYHNfFwVOgA"]] = $this->formatNumberToPDF($vat_value); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["ytPcTYQviOWffJYjSyVj"]] = $this->formatNumberToPDF($total_vat_percent); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["OYnSWxZAAtgFUAzWUlPO"]] = $this->formatNumberToPDF($totalwithvat); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jchlQfsqOXDdKcoXqU"]] = $this->formatNumberToPDF($shAmount); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["vyrGreozoFLtDZLyuhRI"]] = $this->formatNumberToPDF($shtaxtotal); $Details[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jFzQngxoQQzOOzdgBGrM"]] = $Vat_Block; return $Details; } public function getContent(){ self::$execution_time_start = microtime(true); $simple_html_dom_file = $this->getSimpleHtmlDomFile(); require_once($simple_html_dom_file); $v = $GLOBALS["hqFjUEGnjSMPylTBVsfV"]; $vcv = vglobal($v); $ir = $GLOBALS["LIGQXmYADKMqqAbIHMlz"]; $img_root = vglobal($ir); self::$content = self::$body; self::$content = self::$header . self::$section_sep; self::$content .= self::$body . self::$section_sep; self::$content .= self::$footer; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["WtHOZZCfuStvYzsMCefW"]] = self::$site_url; self::$rep[$GLOBALS["wTcUiJYclalbXjyxIU"]] = $GLOBALS["kzjJiifEESBxOwXSoOcF"]; self::$rep[$GLOBALS["iQFNQbmlsdDAfqxJeBRS"]] = $GLOBALS["QFsiMBhlJBuzOBDRULTg"]; self::$rep[$GLOBALS["klDnNLzGInVuCdSAJKwG"]] = $GLOBALS["ZUKrugOOGNsUDYpyIlzG"]; self::$rep[$GLOBALS["MHYVVIMcTRyduHpMAcJn"]] = $GLOBALS["DsjIDXLzKVwCyLGvbApM"]; self::$rep[$GLOBALS["zLgSZUaglbIXcpTCHijW"]] = $GLOBALS["velCdhsIQQLOdApNLuNk"]; self::$rep[$GLOBALS["OkEiTSlNsvulhTaxxVse"]] = date($GLOBALS["poXjtagXoyMHVDiYCoQ"]); self::$rep[$GLOBALS["mfZMcZNrTNMxDJKITRJT"]] = date($GLOBALS["OzkThaZjGnqwCuwmgM"]); self::$rep[$GLOBALS["TyKfXDJBbPBeyhgmyovg"]] = date($GLOBALS["lwECioaKPcJGonZjCJFY"]); self::$rep[$GLOBALS["ooNgRvozZqOBqblyrcBK"]] = date($GLOBALS["yPZDSSMKXmMCZcdoGfbh"]); self::$rep[$GLOBALS["hlywcvTCgwgzGDkHcztj"]] = $GLOBALS["hlywcvTCgwgzGDkHcztj"] . $img_root; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].strtoupper(self::$module).$GLOBALS["hotnDgPCsKTzcNgiKAHl"]] = self::$focus->id; if ($vcv == $GLOBALS["hYEEIrgvMvjWwntKyKXm"]){ $displayValueCreated = getDisplayDate(self::$focus->column_fields[$GLOBALS["eAzlPGPFMGgdhJgJubmh"]]); $displayValueModified = getDisplayDate(self::$focus->column_fields[$GLOBALS["ApLCkRADMzznPcKbSrOM"]]); } else { $createdtime = new DateTimeField(self::$focus->column_fields[$GLOBALS["eAzlPGPFMGgdhJgJubmh"]]); $displayValueCreated = $createdtime->getDisplayDateTimeValue(); $modifiedtime = new DateTimeField(self::$focus->column_fields[$GLOBALS["ApLCkRADMzznPcKbSrOM"]]); $displayValueModified = $modifiedtime->getDisplayDateTimeValue(); } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . strtoupper(self::$module) . $GLOBALS["TOxptBeNcVhdwUuUPoHs"]] = $displayValueCreated; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . strtoupper(self::$module) . $GLOBALS["JpwUqdOzBUcALEDAjxpV"]] = $displayValueModified; $this->convertEntityImages(); $this->replaceContent(); self::$content = html_entity_decode(self::$content, ENT_QUOTES, self::$def_charset); $html = str_get_html(self::$content); if (is_array($html->find($GLOBALS["SpSnkmEyvPyrtToxbtTw"]))){ foreach ($html->find($GLOBALS["SpSnkmEyvPyrtToxbtTw"]) as $div_page_break){ $div_page_break->outertext = self::$pagebreak; self::$content = $html->save(); } } if (is_array($html->find($GLOBALS["nmtaOLJDPAjLXZcXdgGs"]))){ foreach ($html->find($GLOBALS["nmtaOLJDPAjLXZcXdgGs"]) as $div_page_break){ $div_page_break->outertext = self::$pagebreak; self::$content = $html->save(); } } $this->convertRelatedModule(); $this->replaceFieldsToContent(self::$module, self::$focus); $this->convertInventoryModules(); if ($this->focus->column_fields[$GLOBALS["hclorlNquLOBYvEzKzur"]] == $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $this->focus->column_fields[$GLOBALS["hclorlNquLOBYvEzKzur"]] = self::$db->query_result(self::$db->pquery($GLOBALS["SyPXMzLwLBXhlLbUJZpd"], array(self::$focus->id)), 0, $GLOBALS["WtRhMQGrnlSZqpQjERCM"]); } $this->handleRowbreak(); $this->replaceUserCompanyFields(); $this->replaceLabels(); self::$rep[$GLOBALS["SQkRvShtsWKvnWrwnDVz"]] = $GLOBALS["PRopbcqEskWVOSIXgrBf"] . (microtime(true) - self::$execution_time_start);; $this->replaceContent(); self::$content = $this->fixImg(self::$content); if (strtoupper(self::$def_charset) != $GLOBALS["UiBwatLlwkKjJctLVlkg"]){ self::$content = iconv(self::$def_charset, $GLOBALS["FYrDEOEzirqtLAfqaLkE"], self::$content); } $PDF_content = array(); list($PDF_content["header"], $PDF_content["body"], $PDF_content["footer"]) = explode(self::$section_sep, self::$content); return $PDF_content; } private function convertRelatedModule(){ $v = $GLOBALS["hqFjUEGnjSMPylTBVsfV"]; $vcv = vglobal($v); $field_inf = $GLOBALS["bJDxiQFvcYmDJIivnNcU"]; $fieldModRel = $this->GetFieldModuleRel(); $module_tabid = getTabId(self::$module); $Query_Parr = array('3', '64', $module_tabid); $sql = $GLOBALS["InlXFercuyJzafFVcRsT"]; $result = self::$db->pquery($sql, $Query_Parr); $num_rows = self::$db->num_rows($result); if ($num_rows > 0){ while ($row = self::$db->fetch_array($result)){ $columnname = $row[$GLOBALS["foilzGfPxrvYZKgcvIHz"]]; $fk_record = self::$focus->column_fields[$row[$GLOBALS["GeNxKHvjrrOGongDxeNv"]]]; $related_module = $this->getUITypeRelatedModule($row[$GLOBALS["XyIwzTZuQnctOicwPgwB"]],$fk_record); if ($related_module != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $displayValueModified = $displayValueCreated = $related_module_id = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; $tabid = getTabId($related_module); $temp = &VTCacheUtils::$$field_inf; unset($temp[$tabid]); $focus2 = CRMEntity::getInstance($related_module); if ($fk_record != $GLOBALS["SnsSSwMKZSYeMFnEirnh"] && $fk_record != $GLOBALS["eZrKzfUgBxsaIAHVNXws"]){ if ($related_module == $GLOBALS["YsOGgZGvNiqLjCXZuKw"]){ $control_sql = $GLOBALS["vwvAfWokfpeObSQdwrfg"]; } else { $control_sql = $GLOBALS["MLEZcdNfVaYqJfVhxslc"]; } $result_delete = self::$db->pquery($GLOBALS["KaPfmUGPNousZHXNMo"].$control_sql.$GLOBALS["OBNnIuCgUOaNmhndbYAc"], array($fk_record)); if (self::$db->num_rows($result_delete) > 0){ $focus2->retrieve_entity_info($fk_record, $related_module); $related_module_id = $focus2->id = $fk_record; if ($vcv == $GLOBALS["hYEEIrgvMvjWwntKyKXm"]){ $displayValueCreated = getDisplayDate($focus2->column_fields[$GLOBALS["eAzlPGPFMGgdhJgJubmh"]]); $displayValueModified = getDisplayDate($focus2->column_fields[$GLOBALS["ApLCkRADMzznPcKbSrOM"]]); } else { if (!empty($focus2->column_fields[$GLOBALS["eAzlPGPFMGgdhJgJubmh"]])) { $createdtime = new DateTimeField($focus2->column_fields[$GLOBALS["eAzlPGPFMGgdhJgJubmh"]]); $displayValueCreated = $createdtime->getDisplayDateTimeValue(); } if (!empty($focus2->column_fields[$GLOBALS["ApLCkRADMzznPcKbSrOM"]])) { $modifiedtime = new DateTimeField($focus2->column_fields[$GLOBALS["ApLCkRADMzznPcKbSrOM"]]); $displayValueModified = $modifiedtime->getDisplayDateTimeValue(); } } } } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["hotnDgPCsKTzcNgiKAHl"]] = $related_module_id; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["TOxptBeNcVhdwUuUPoHs"]] = $displayValueCreated; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["JpwUqdOzBUcALEDAjxpV"]] = $displayValueModified; if ($related_module != $GLOBALS["YsOGgZGvNiqLjCXZuKw"]){ self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($related_module) . $GLOBALS["hotnDgPCsKTzcNgiKAHl"]] = $related_module_id; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($related_module) . $GLOBALS["TOxptBeNcVhdwUuUPoHs"]] = $displayValueCreated; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($related_module) . $GLOBALS["JpwUqdOzBUcALEDAjxpV"]] = $displayValueModified; } if (isset($related_module)){ $entityImg = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; switch ($related_module){ case $GLOBALS["VWHPTaOAEVpRKucREQw"]: $entityImg = $this->getContactImage($related_module_id,self::$site_url); break; case $GLOBALS["hGnadVdSMPDJtvbMnxJM"]: $entityImg = $this->getProductImage($related_module_id,self::$site_url); break; } if ($related_module != $GLOBALS["YsOGgZGvNiqLjCXZuKw"]){ self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($related_module) . $GLOBALS["vxSCrgCrDvGsppNxNbFv"]] = $entityImg; } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["vxSCrgCrDvGsppNxNbFv"]] = $entityImg; } $this->replaceContent(); if ($related_module != $GLOBALS["YsOGgZGvNiqLjCXZuKw"]){ $this->replaceFieldsToContent($related_module, $focus2, true); } $this->replaceFieldsToContent($related_module, $focus2, $columnname); $this->replaceInventoryDetailsBlock($related_module, $focus2, $columnname); unset($focus2); } if ($row[$GLOBALS["XyIwzTZuQnctOicwPgwB"]] == $GLOBALS["lkVEsmAqfKYazGQuo"]){ $fieldModRel[$row[$GLOBALS["OadalxWCWunrvXQLDuFi"]]][] = $GLOBALS["VWHPTaOAEVpRKucREQw"]; $fieldModRel[$row[$GLOBALS["OadalxWCWunrvXQLDuFi"]]][] = $GLOBALS["sdrWarevAiEizOvnfUkT"]; } if (isset($fieldModRel[$row[$GLOBALS["OadalxWCWunrvXQLDuFi"]]])){ foreach ($fieldModRel[$row[$GLOBALS["OadalxWCWunrvXQLDuFi"]]] as $idx => $relMod){ if ($relMod == $related_module){ continue; } $tmpTabId = getTabId($relMod); $temp = &VTCacheUtils::$$field_inf; unset($temp[$tmpTabId]); if (file_exists($GLOBALS["YtcWFrnluplyyGyCytPv"].$relMod.$GLOBALS["JsPuQXopAGHsqRwURiUS"].$relMod.$GLOBALS["SlHsWnwyyIgPQNOBiKpk"])){ $tmpFocus = CRMEntity::getInstance($relMod); if ($related_module != $GLOBALS["YsOGgZGvNiqLjCXZuKw"]){ self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($relMod) . $GLOBALS["hotnDgPCsKTzcNgiKAHl"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($relMod) . $GLOBALS["TOxptBeNcVhdwUuUPoHs"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($relMod) . $GLOBALS["JpwUqdOzBUcALEDAjxpV"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; $this->replaceFieldsToContent($relMod, $tmpFocus, true); } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["hotnDgPCsKTzcNgiKAHl"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["TOxptBeNcVhdwUuUPoHs"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($columnname) . $GLOBALS["JpwUqdOzBUcALEDAjxpV"]] = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; $this->replaceFieldsToContent($relMod, $tmpFocus, $columnname); $this->replaceInventoryDetailsBlock($relMod, $tmpFocus, $columnname); unset($tmpFocus); } } } } } } private function convertProductBlock($block_type = ''){ $simple_html_dom_file = $this->getSimpleHtmlDomFile(); require_once($simple_html_dom_file); $html = str_get_html(self::$content); $tableDOM = false; if (is_array($html->find($GLOBALS["fAKxwbJrJQaOApqVZxlU"]))){ foreach ($html->find($GLOBALS["fAKxwbJrJQaOApqVZxlU"]) as $td){ if (trim($td->plaintext) == $GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["UYeEjRiZpjFBTPVHinE"]){ $td->parent->outertext = $GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["UYeEjRiZpjFBTPVHinE"]; $oParent = $td->parent; while ($oParent->tag != $GLOBALS["RTRxBrGOZDeetpuWPLf"]) $oParent = $oParent->parent; list($tag) = explode($GLOBALS["ukbbswQAPnxJXezxICgS"], $oParent->outertext, 2); $header = $oParent->first_child(); if ($header->tag != $GLOBALS["kcgQHALssHcJGPNfqnSB"]){ $header = $header->children(0); } $header_style = $GLOBALS["tugkmwKQmrdyfghQnRJj"]; if (is_object($td->parent->prev_sibling()->children[0])){ $header_style = $td->parent->prev_sibling()->children[0]->getAttribute($GLOBALS["cqfJpXzNTVQWnwMYCHfL"]); } $footer_tag = $GLOBALS["PczYJrUoKCfgnPwiQPEB"]; if (isset($header_style)){ $StyleHeader = explode($GLOBALS["yKJYEAspYGWeQuaPqCrJ"], $header_style); if (isset($StyleHeader)){ foreach ($StyleHeader as $style_header_tag){ if (strpos($style_header_tag, $GLOBALS["UQDeAMMPYZTwtgxodAbQ"]) == TRUE){ $footer_tag.=$GLOBALS["cOEAvTrndEtMwLAmmVTL"] . $td->getAttribute($GLOBALS["FwbUJpnpRWrUZNUpEmQw"]) . $GLOBALS["KXzOsuoGCUJObukQzvnT"] . $style_header_tag . $GLOBALS["yQhmRUDyTbzkbadJxlDs"]; } } } } else { $footer_tag.=$GLOBALS["cOEAvTrndEtMwLAmmVTL"] . $td->getAttribute($GLOBALS["FwbUJpnpRWrUZNUpEmQw"]) . $GLOBALS["zJKQFNxTiERdRLaSOHLw"]; } $footer_tag.=$GLOBALS["WCSyTKWxerqYPmwIRXNU"]; $var = $td->parent->next_sibling()->last_child()->plaintext; $subtotal_tr = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (strpos($var, $GLOBALS["fcJitMucOpzfbronbsev"]) !== false){ if (is_object($td)){ $style_subtotal = $td->getAttribute($GLOBALS["cqfJpXzNTVQWnwMYCHfL"]); } $style_subtotal_tag = $style_subtotal_endtag = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (isset($td->innertext)){ list($style_subtotal_tag, $style_subtotal_endtag) = explode($GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["UYeEjRiZpjFBTPVHinE"], $td->innertext); } if (isset($style_subtotal)){ $StyleSubtotal = explode($GLOBALS["yKJYEAspYGWeQuaPqCrJ"], $style_subtotal); if (isset($StyleSubtotal)){ foreach ($StyleSubtotal as $style_tag){ if (strpos($style_tag, $GLOBALS["UQDeAMMPYZTwtgxodAbQ"]) == TRUE){ $tag.=$GLOBALS["QBCClqasqvCbotYqzwk"] . $style_tag . $GLOBALS["CGbFgRIFcNnyLvvmfknU"]; break; } } } } else { $style_subtotal = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; } $subtotal_tr = $GLOBALS["PczYJrUoKCfgnPwiQPEB"]; $preg_cond = $GLOBALS["xnVRNBQaIFtteEArGvfZ"]; preg_match($preg_cond, $var, $var_array); $var_text = $var_array[1]; $var_split = preg_split($preg_cond, $var); $subtotal_tr.=$GLOBALS["cOEAvTrndEtMwLAmmVTL"] . ($td->getAttribute($GLOBALS["FwbUJpnpRWrUZNUpEmQw"]) - 1) . $GLOBALS["KXzOsuoGCUJObukQzvnT"] . $style_subtotal . $GLOBALS["wkpeWPSNxzgLmqMfZkLm"] . $style_subtotal_tag . $GLOBALS["NuKTBrPSTLooIoPGCDlw"] . $style_subtotal_endtag . $GLOBALS["AQiNeyqfibteumzjzWpT"]; $subtotal_tr.=$GLOBALS["sYyRJZaViKEEDkpdsBAv"] . $style_subtotal . $GLOBALS["HKmcaquxZwSdlhDHqrYZ"] . $style_subtotal_tag . $var_split[0] . $GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $var_text . $GLOBALS["jgrslHAejfgZJTvQZnBl"] . $var_split[1] . $style_subtotal_endtag . $GLOBALS["AQiNeyqfibteumzjzWpT"]; $subtotal_tr.=$GLOBALS["WCSyTKWxerqYPmwIRXNU"]; } $tag.=$GLOBALS["ukbbswQAPnxJXezxICgS"]; $tableDOM[$GLOBALS["kaVrfkyjSrnAitILXrfK"]] = $tag; $tableDOM[$GLOBALS["NTyQHjsZzEIcCtsiTJfw"]] = $header->outertext; $tableDOM[$GLOBALS["BETDEShrCzIfpFrQhiPM"]] = $footer_tag; $tableDOM[$GLOBALS["pIpkPTgrDMptTQuvGvIy"]] = $subtotal_tr; } if (trim($td->plaintext) == $GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["upcIPxfFkIwKZvvCikJt"]){ $td->parent->outertext = $GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["upcIPxfFkIwKZvvCikJt"]; } } self::$content = $html->save(); } return $tableDOM; } private function convertInventoryModules(){ $ProductParts = array(); $result = self::$db->pquery("select * from vtiger_inventoryproductrel where id=?", array(self::$focus->id)); $num_rows = self::$db->num_rows($result); if ($num_rows > 0){ $Products = $this->replaceInventoryDetailsBlock(self::$module, self::$focus); $Blocks = array("","PRODUCTS_","SERVICES_"); foreach ($Blocks AS $block_type) { if (strpos(self::$content, $GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["UYeEjRiZpjFBTPVHinE"]) !== false && strpos(self::$content, $GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["upcIPxfFkIwKZvvCikJt"]) !== false){ $tableTag = $this->convertProductBlock($block_type); $breaklines_array = $this->getInventoryBreaklines(self::$focus->id); $breaklines = $breaklines_array[$GLOBALS["LWspUsXPklHbquCJQIJF"]]; $show_header = $breaklines_array[$GLOBALS["cdyPJZbsSGstCcGLoLIM"]]; $show_subtotal = $breaklines_array[$GLOBALS["VhcjKQoFvGBhmPJmwTNn"]]; $breakline_type = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (count($breaklines) > 0){ if ($tableTag !== false){ $breakline_type = $GLOBALS["lWzbxjfiXJPufItRLuMq"] . self::$pagebreak . $tableTag[$GLOBALS["kaVrfkyjSrnAitILXrfK"]]; if ($show_header == 1) $breakline_type.=$tableTag[$GLOBALS["NTyQHjsZzEIcCtsiTJfw"]]; if ($show_subtotal == 1){ $breakline_type = $tableTag[$GLOBALS["pIpkPTgrDMptTQuvGvIy"]] . $breakline_type; } else { $breakline_type = $tableTag[$GLOBALS["BETDEShrCzIfpFrQhiPM"]] . $breakline_type; } } else { $breakline_type = self::$pagebreak; } } $ExplodedPdf = array(); $Exploded = explode("#PRODUCTBLOC_".$block_type."START#", self::$content); $ExplodedPdf[] = $Exploded[0]; for ($iterator = 1; $iterator < count($Exploded); $iterator++){ $SubExploded = explode($GLOBALS["pkVngQNtqwwbMenGNTqY"].$block_type.$GLOBALS["upcIPxfFkIwKZvvCikJt"], $Exploded[$iterator]); foreach ($SubExploded as $part) { $ExplodedPdf[] = $part; } $highestpartid = $iterator * 2 - 1; $ProductParts[$highestpartid] = $ExplodedPdf[$highestpartid]; $ExplodedPdf[$highestpartid] = $GLOBALS["tugkmwKQmrdyfghQnRJj"]; } if ($Products[$GLOBALS["gpjhnySSwWjabdoCSQyN"]]){ foreach ($Products[$GLOBALS["gpjhnySSwWjabdoCSQyN"]] AS $Product_Details){ if (($block_type == $GLOBALS["TmaUiSonLZPMYQQWIzPn"] && empty($Product_Details[$GLOBALS["koziphZwOUMTQGsAcwmB"]])) || ($block_type == $GLOBALS["GZciFcdmRoVimsLUcMyN"] && empty($Product_Details[$GLOBALS["IqolEKWfsjhAvYmtXDzZ"]]))) { continue; } foreach ($ProductParts as $productpartid => $productparttext){ $breakline = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if ($breakline_type != $GLOBALS["SnsSSwMKZSYeMFnEirnh"] && $block_type == $GLOBALS["SnsSSwMKZSYeMFnEirnh"] && isset($breaklines[$Product_Details[$GLOBALS["FBCboxfJjwKwbyDEWSUg"]] . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $Product_Details[$GLOBALS["CQqlfrsXLZxEFmLZFKxS"]]])) { $breakline = $breakline_type; } $productparttext.=$breakline; foreach ($Product_Details AS $coll => $value){ $productparttext = str_replace($GLOBALS["gGGLCVFQtZZPmPufBSZy"] . strtoupper($coll) . $GLOBALS["gGGLCVFQtZZPmPufBSZy"], $value, $productparttext); } $ExplodedPdf[$productpartid].=$productparttext; } } } self::$content = implode($GLOBALS["tugkmwKQmrdyfghQnRJj"], $ExplodedPdf); } } } } private function handleRowbreak(){ $html = str_get_html(self::$content); $toSkip = 0; if (is_array($html->find($GLOBALS["cPQJjhHcHaQbqmrmxvlj"]))){ foreach ($html->find($GLOBALS["cPQJjhHcHaQbqmrmxvlj"]) as $pb){ if ($pb->outertext == self::$rowbreak){ $tmpPb = $pb; while ($tmpPb != null && $tmpPb->tag != $GLOBALS["fAKxwbJrJQaOApqVZxlU"]){ $tmpPb = $tmpPb->parent(); } if ($tmpPb->tag == $GLOBALS["fAKxwbJrJQaOApqVZxlU"]){ if ($toSkip > 0){ $toSkip--; continue; } $prev_sibling = $tmpPb->prev_sibling(); $prev_sibling_styles = array(); while ($prev_sibling != null){ $prev_sibling_styles[] = $this->getDOMElementAtts($prev_sibling); $prev_sibling = $prev_sibling->prev_sibling(); } $next_sibling = $tmpPb->next_sibling(); $next_sibling_styles = array(); while ($next_sibling != null){ $next_sibling_styles[] = $this->getDOMElementAtts($next_sibling); $next_sibling = $next_sibling->next_sibling(); } $partsArr = explode(self::$rowbreak, $tmpPb->innertext); for ($i = 0; $i < (count($partsArr) - 1); $i++){ $tmpPb->innertext = $partsArr[$i]; $addition = $GLOBALS["lctypxAwFdWiVwWZHsUs"]; for ($j = 0; $j < count($prev_sibling_styles); $j++){ $addition.=$GLOBALS["gWBDTaUHWAddjMucmmUA"] . $prev_sibling_styles[$j] . $GLOBALS["nlbKTNJlIdRRpcUwxkFN"]; } $addition.=$GLOBALS["zfPVzLAJlMnHVsxSGGnB"] . $tmpPb->getAttribute($GLOBALS["cqfJpXzNTVQWnwMYCHfL"]) . $GLOBALS["tAGGrOKxpRduOPmQmnlr"] . $partsArr[$i + 1] . $GLOBALS["WbcxomVQWZIUKZZaVTSY"]; for ($j = 0; $j < count($next_sibling_styles); $j++){ $addition.=$GLOBALS["gWBDTaUHWAddjMucmmUA"] . $next_sibling_styles[$j] . $GLOBALS["nlbKTNJlIdRRpcUwxkFN"]; } $addition .= $GLOBALS["WoMEjeTrzmvVuUhBEXXn"]; $tmpPb->parent()->outertext = $tmpPb->parent()->outertext . $addition; } $toSkip = count($partsArr) - 2; } } } self::$content = $html->save(); } } private function getFieldValue($efocus,$emodule,$fieldname,$value,$UITypes,$inventory_currency = false){ return $this->getFieldValueUtils($efocus,$emodule,$fieldname,$value,$UITypes,$inventory_currency,self::$ignored_picklist_values,self::$def_charset,self::$decimals, self::$decimal_point, self::$thousands_separator,self::$language, self::$focus->id); } private function replaceFieldsToContent($emodule, $efocus, $is_related = false, $inventory_currency = false,$related = "R_"){ $current_user = Users_Record_Model::getCurrentUserModel(); if ($inventory_currency !== false){ $inventory_content = array(); } $convEntity = $emodule; if ($is_related === false){ $related = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; } else { if ($is_related !== true){ $convEntity = $is_related; } } if (!empty($efocus->id)) { $VtigerDetailViewModel = Vtiger_DetailView_Model::getInstance($emodule, $efocus->id); $recordModel = $VtigerDetailViewModel->getRecord(); $recordStrucure = Vtiger_RecordStructure_Model::getInstanceFromRecordModel($recordModel, $GLOBALS["tugkmwKQmrdyfghQnRJj"]); } else { $moduleModel = Vtiger_Module_Model::getInstance($emodule); $recordStrucure = Vtiger_RecordStructure_Model::getInstanceForModule($moduleModel, $GLOBALS["tugkmwKQmrdyfghQnRJj"]); } $stucturedValues = $recordStrucure->getStructure(); foreach ($stucturedValues AS $BLOCK_LABEL => $BLOCK_FIELDS) { foreach ($BLOCK_FIELDS AS $FIELD_NAME => $FIELD_MODEL) { $fieldname = $FIELD_MODEL->get($GLOBALS["BoWuBfavKqJxeLgCuLA"]); $fieldlabel = $FIELD_MODEL->get($GLOBALS["UWIPgjxFofMMrcoIwgFn"]); $fieldvalue = $FIELD_MODEL->get($GLOBALS["slYBpUhslScVJWyLNdKz"]); $fieldDataType = $FIELD_MODEL->getFieldDataType(); if ($fieldDataType == $GLOBALS["eiVzoZeQpIXRfHOJajZk"]) { $FIELD_DISPLAY_VALUE = $FIELD_MODEL->getDisplayValue($fieldvalue); } else if ($fieldDataType == $GLOBALS["MLnOQfrCfPnFLwGWbxSz"] || $fieldDataType == $GLOBALS["diEzDjOPlobKHFTab"]){ $FIELD_DISPLAY_VALUE = $FIELD_MODEL->getEditViewDisplayValue($fieldvalue); } else if ($fieldDataType == $GLOBALS["iZvfOVvqsTBzUTIsQetS"] || $fieldDataType == $GLOBALS["LgMNIFzKHGZVHsEXfc"]){ $FIELD_DISPLAY_VALUE = $this->formatNumberToPDF($fieldvalue); } else if ($fieldDataType == $GLOBALS["asxETQgoYgCVOHXhnboY"]){ if (is_numeric($fieldvalue)){ if ($inventory_currency === false){ $user_currency_data = getCurrencySymbolandCRate($current_user->currency_id); $crate = $user_currency_data[$GLOBALS["thBjipOnCiMVgQpJPtWm"]]; } else { $crate = $inventory_currency[$GLOBALS["noiWHVcbbFCRwJzCRVnU"]]; } $fieldvalue = $fieldvalue * $crate; } $FIELD_DISPLAY_VALUE = $this->formatNumberToPDF($fieldvalue); } else { $FIELD_DISPLAY_VALUE =$FIELD_MODEL->getDisplayValue($fieldvalue); } self::$rep[$GLOBALS["diUasjkzMdVYiqJtldzh"] . $related . strtoupper($convEntity . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $fieldname) . $GLOBALS["diUasjkzMdVYiqJtldzh"]] = vtranslate($fieldlabel,$emodule); self::$rep[$GLOBALS["FfkwVNMaqrTcGqUTchs"] . $fieldlabel . $GLOBALS["diUasjkzMdVYiqJtldzh"]] = vtranslate($fieldlabel,$emodule); if ($inventory_currency !== false){ $inventory_content[strtoupper($emodule . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $fieldname)] = $FIELD_DISPLAY_VALUE; } else { self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $related . strtoupper($convEntity . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $fieldname) . $GLOBALS["gGGLCVFQtZZPmPufBSZy"]] = $FIELD_DISPLAY_VALUE; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $related . strtoupper($convEntity . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $fieldname) . $GLOBALS["DStySfTLWHKVpnFXdMgi"]] = $fieldvalue; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $related . strtoupper($convEntity . $GLOBALS["MbajDNJRhmMOwGojscvU"] . $fieldname) . $GLOBALS["txzPbPvjXkZWeZPRDiPR"]] = $fieldDataType; } } } if ($inventory_currency !== false){ return $inventory_content; } else { $this->replaceContent(); return true; } } private function replaceUserCompanyFields(){ $r = $GLOBALS["eAenLQbQfipXvcPLgEUH"]; $root_dir = vglobal($r); $current_user = Users_Record_Model::getCurrentUserModel(); $Settings_Vtiger_CompanyDetails_Model = Settings_Vtiger_CompanyDetails_Model::getInstance(); $CompanyDetails_Fields = $Settings_Vtiger_CompanyDetails_Model->getFields(); foreach ($CompanyDetails_Fields AS $field_name => $field_data){ if ($field_name == $GLOBALS["cruoBksSzrhaUrQpXCI"]) { $coll = $GLOBALS["XckkIahjVOedVNldUNrH"]; } elseif ($field_name == $GLOBALS["VdzdGRygOfNJSqBDscBm"]) { $coll = $GLOBALS["CuQytGSwAZCWJYbigXep"]; } elseif ($field_name == $GLOBALS["abujIITWbiiVROUyQsyB"]) { continue; } else { $coll = $field_name; } if ($coll == $GLOBALS["ATOJFenEWclZAYOECFqU"]){ $value = $GLOBALS["yHJJwPzDcOPVmaWaVPpS"] . $root_dir . LOGO_PATH . $Settings_Vtiger_CompanyDetails_Model->get($GLOBALS["abujIITWbiiVROUyQsyB"]) . $GLOBALS["tAGGrOKxpRduOPmQmnlr"]; } else { $value = $Settings_Vtiger_CompanyDetails_Model->get($field_name); } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["PxgYWrTfSfkRPIDNeCln"] . strtoupper($coll) . $GLOBALS["gGGLCVFQtZZPmPufBSZy"]] = $value; self::$rep[$GLOBALS["diUasjkzMdVYiqJtldzh"].$GLOBALS["PxgYWrTfSfkRPIDNeCln"] . strtoupper($coll) . $GLOBALS["diUasjkzMdVYiqJtldzh"]] = vtranslate($field_name,$GLOBALS["FIMnmnTgIIYIZMlgiweJ"]); } $tandc = self::$db->query_result(self::$db->pquery($GLOBALS["ChPORxqJRBPrQDeOsXLN"],array($GLOBALS["IjVspADOFENyqIgHBCyu"])), 0, $GLOBALS["cSCFJgdZRBFkJdAZSRrR"]); if( strpos($tandc,$GLOBALS["zdYGLGPPVdmxjyaftI"]) === false && strpos($tandc,$GLOBALS["GSImnIfLsySEOdXkzpWG"]) === false && strpos($tandc,$GLOBALS["lbmRgYVjvlCndWvnTOxT"]) === false) { self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["PcvwKYOvwJDeCWjsFzVB"]] = nl2br($tandc); } if (self::$focus->column_fields[$GLOBALS["hclorlNquLOBYvEzKzur"]] != $GLOBALS["SnsSSwMKZSYeMFnEirnh"]){ $user_res = self::$db->pquery($GLOBALS["sjblpDstWVKXvqNXCOdw"], array(self::$focus->column_fields["assigned_user_id"])); $user_row = self::$db->fetchByAssoc($user_res); $this->replaceUserData($user_row[$GLOBALS["EWhsCOMWsXKEpiRkyvzm"]],$user_row,$GLOBALS["FWBzbLxurCfbUzOWacBJ"]); } else { $this->replaceUserData($current_user->id,$current_user,$GLOBALS["FWBzbLxurCfbUzOWacBJ"]); } $this->replaceUserData($current_user->id,$current_user,$GLOBALS["HifFabmCcMUcdbCrWhYA"]); $focus_user = CRMEntity::getInstance($GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $focus_user->id = self::$focus->column_fields[$GLOBALS["hclorlNquLOBYvEzKzur"]]; $this->retrieve_entity_infoCustom($focus_user, $focus_user->id, $GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $this->replaceFieldsToContent($GLOBALS["YsOGgZGvNiqLjCXZuKw"], $focus_user, false); $curr_user_focus = CRMEntity::getInstance($GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $curr_user_focus->id = $current_user->id; $this->retrieve_entity_infoCustom($curr_user_focus, $curr_user_focus->id, $GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $this->replaceFieldsToContent($GLOBALS["YsOGgZGvNiqLjCXZuKw"], $curr_user_focus, true); self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["tevtKogmWpRfjgMwUQeP"]] = $focus_user->id; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["pzqWkZwMjXzsjpXJKDEo"]] = $curr_user_focus->id; $modifiedby_user_res = self::$db->pquery($GLOBALS["kLZlhKCBQpqKptfeEvaC"], array(self::$focus->id)); $modifiedby_user_row = self::$db->fetchByAssoc($modifiedby_user_res); $this->replaceUserData($modifiedby_user_row[$GLOBALS["EWhsCOMWsXKEpiRkyvzm"]],$modifiedby_user_row,$GLOBALS["cQpBrWeRgvycdIbMQKiZ"]); $modifiedby_user_focus = CRMEntity::getInstance($GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $modifiedby_user_focus->id = $modifiedby_user_row[$GLOBALS["EWhsCOMWsXKEpiRkyvzm"]]; $this->retrieve_entity_infoCustom($modifiedby_user_focus, $modifiedby_user_focus->id, $GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $this->replaceFieldsToContent($GLOBALS["YsOGgZGvNiqLjCXZuKw"], $modifiedby_user_focus, true, false, $GLOBALS["lwLEccmORBCQmHDKNime"]); $smcreatorid_user_res = self::$db->pquery($GLOBALS["VKnFIlaFORPGktiznpAJ"], array(self::$focus->id)); $smcreatorid_user_row = self::$db->fetchByAssoc($smcreatorid_user_res); $this->replaceUserData($smcreatorid_user_row[$GLOBALS["EWhsCOMWsXKEpiRkyvzm"]],$smcreatorid_user_row,$GLOBALS["UncIrIfKZVmNxonPJFGy"]); $smcreatorid_user_focus = CRMEntity::getInstance($GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $smcreatorid_user_focus->id = $smcreatorid_user_row[$GLOBALS["EWhsCOMWsXKEpiRkyvzm"]]; $this->retrieve_entity_infoCustom($smcreatorid_user_focus, $smcreatorid_user_focus->id, $GLOBALS["YsOGgZGvNiqLjCXZuKw"]); $this->replaceFieldsToContent($GLOBALS["YsOGgZGvNiqLjCXZuKw"], $smcreatorid_user_focus, true, false, $GLOBALS["zoGJBYZrEjpfSaMmspTO"]); $this->replaceContent(); } private function replaceLabels(){ $app_lang_array = Vtiger_Language_Handler::getModuleStringsFromFile(self::$language); $mod_lang_array = Vtiger_Language_Handler::getModuleStringsFromFile(self::$language, self::$module); $app_lang = $app_lang_array[$GLOBALS["dflXXMnDxtSAHFUZrdII"]]; $mod_lang = $mod_lang_array[$GLOBALS["dflXXMnDxtSAHFUZrdII"]]; self::$rep[$GLOBALS["eNGOvyTuLTYrGATrSxwp"]] = $app_lang[$GLOBALS["ALUfVOdlcekAuCbossxG"]]; self::$rep[$GLOBALS["NuKTBrPSTLooIoPGCDlw"]] = $app_lang[$GLOBALS["vZJuukcZWktqvHjjSIbD"]]; self::$rep[$GLOBALS["nHRVSOJSPEYHgtquaWJ"]] = $app_lang[$GLOBALS["bDnzjVkCvdgSgNQgm"]]; $this->replaceContent(); if (strpos(self::$content, $GLOBALS["XCsCaYrEYHjqOFlQGvmm"]) !== false){ foreach ($app_lang as $key => $value){ self::$rep[$GLOBALS["XCsCaYrEYHjqOFlQGvmm"] . $key . $GLOBALS["diUasjkzMdVYiqJtldzh"]] = $value; } $this->replaceContent(); } if (strpos(self::$content, $GLOBALS["FfkwVNMaqrTcGqUTchs"]) !== false){ foreach ($mod_lang as $key => $value){ self::$rep[$GLOBALS["FfkwVNMaqrTcGqUTchs"] . $key . $GLOBALS["diUasjkzMdVYiqJtldzh"]] = $value; } $this->replaceContent(); foreach ($app_lang as $key => $value){ self::$rep[$GLOBALS["FfkwVNMaqrTcGqUTchs"] . $key . $GLOBALS["diUasjkzMdVYiqJtldzh"]] = $value; } if (self::$module == $GLOBALS["tHCCvVEpNgFKNJZMECUX"]) self::$rep[$GLOBALS["BOkvWkQWMgygoeLltiWH"]] = $mod_lang[$GLOBALS["dVeFTzVEqtKZBRkDMqQp"]]; if (self::$module == $GLOBALS["xlhXzKJjUPnSQENqnbFQ"]) self::$rep[$GLOBALS["UqfyVVFWsgCAQOdIiUgM"]] = $mod_lang[$GLOBALS["VgoMjOJZKDjxcjaIskHl"]]; self::$rep[$GLOBALS["XzWYGxGUDKgMJmTYjNzn"]] = vtranslate($GLOBALS["DLwFVFUVHsHMAHsKmps"], self::$module); $this->replaceContent(); } } private function replaceContent(){ if (!empty(self::$rep)){ self::$content = str_replace(array_keys(self::$rep), self::$rep, self::$content); self::$rep = array(); } } private function getInventoryCurrencyInfoCustom($module, $focus){ $record_id = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; $inventory_table = self::$inventory_table_array[$module]; $inventory_id = self::$inventory_id_array[$module]; if (!empty($focus->id)) { $record_id = $focus->id; } return $this->getInventoryCurrencyInfoCustomArray($inventory_table,$inventory_id,$record_id); } private function getInventoryTaxTypeCustom($module, $focus){ if (!empty($focus->id)) { $res = self::$db->pquery($GLOBALS["wKXzayHsOsLXAqKnGXcf"] . self::$inventory_table_array[$module] . $GLOBALS["WrRNBOmpvjMBLLfdBxIj"] . self::$inventory_id_array[$module] . $GLOBALS["wZmDGNYMLfNreexcYIgx"], array($focus->id)); return self::$db->query_result($res, 0, $GLOBALS["gMpjDTYTKXzMVzxxrsou"]); } return $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; } private function formatNumberToPDF($value){ $number = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (is_numeric($value)){ $number = number_format($value, self::$decimals, self::$decimal_point, self::$thousands_separator); } return $number; } private function retrieve_entity_infoCustom(&$focus, $record, $module){ $result = Array(); foreach ($focus->tab_name_index as $table_name => $index){ $result[$table_name] = self::$db->pquery($GLOBALS["nrhwShLzxrgmJFXGdfFd"] . $table_name . $GLOBALS["WrRNBOmpvjMBLLfdBxIj"] . $index . $GLOBALS["wZmDGNYMLfNreexcYIgx"], array($record)); } $tabid = getTabid($module); $result1 = self::$db->pquery($GLOBALS["sQFKUzlejnTuezhkRpLL"], array($tabid)); $noofrows = self::$db->num_rows($result1); if ($noofrows){ while ($resultrow = self::$db->fetch_array($result1)){ $fieldcolname = $resultrow[$GLOBALS["foilzGfPxrvYZKgcvIHz"]]; $tablename = $resultrow[$GLOBALS["rQMMnZEFJmEuLGrZBmuu"]]; $fieldname = $resultrow[$GLOBALS["GeNxKHvjrrOGongDxeNv"]]; $fld_value = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (isset($result[$tablename])) $fld_value = self::$db->query_result($result[$tablename], 0, $fieldcolname); $focus->column_fields[$fieldname] = $fld_value; } } $focus->column_fields[$GLOBALS["qbRyPHcyWFaYYSsbqBo"]] = $record; $focus->column_fields[$GLOBALS["gYvARnZiUKUGmSgjo"]] = $module; } private function fillInventoryData($module, $focus){ if (!isset(self::$is_inventory_module[$module])) { self::$is_inventory_module[$module] = $this->isInventoryModule($module); } if (self::$is_inventory_module[$module] || (isset($focus->column_fields[$GLOBALS["QPwfouUHWefctalhnxor"]]) && isset($focus->column_fields[$GLOBALS["noiWHVcbbFCRwJzCRVnU"]]) && isset($focus->column_fields[$GLOBALS["vtFeYlQaGMrRQvbUVuw"]]))) { self::$inventory_table_array[$module] = $focus->table_name; self::$inventory_id_array[$module] = $focus->table_index; } } private function replaceInventoryDetailsBlock($module, $focus, $is_related = false){ if (!isset(self::$inventory_table_array[$module])){ $this->fillInventoryData($module, $focus); } if (!isset(self::$inventory_table_array[$module])){ return array(); } $prefix = ""; if ($is_related !== false){ $prefix = $GLOBALS["nUXzerjAuehadUOreXIs"] . strtoupper($is_related) . $GLOBALS["MbajDNJRhmMOwGojscvU"]; } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["cZcamfUlcGzITMutACsL"]] = $this->formatNumberToPDF($focus->column_fields[$GLOBALS["FMhbXaXIzETuVmQcBEpQ"]]); self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["RAOZTOlQdQfmLhHiFRIO"]] = $this->formatNumberToPDF($focus->column_fields[$GLOBALS["vtFeYlQaGMrRQvbUVuw"]]); $currencytype = $this->getInventoryCurrencyInfoCustom($module, $focus); $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]] = str_replace($GLOBALS["FuGuAcoAndaZSvBuzboq"], $GLOBALS["RPNFgMMDetkBQiRnIoyy"], $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]]); $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]] = str_replace($GLOBALS["dXqAyYmlZoLOZMvHyD"], $GLOBALS["WxlkFYlGqLhXWUsmWMI"], $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]]); self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["RTouRmczZNZPWgwnXsBc"]] = getTranslatedCurrencyString($currencytype[$GLOBALS["UZwTQdoOhNJBSuTcGqMr"]]); self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["JDmnQpPYtMjmCjRsNEVf"]] = $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["KkdwCvNDsRyfSbKjayZP"]] = $currencytype[$GLOBALS["dqdzljRNGpMyOLxuNICA"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["gMuBdLURbnjXfnHPNOyK"]] = $this->formatNumberToPDF($focus->column_fields[$GLOBALS["DxYfhqTVbEIfsBKYRBzn"]]); $Products = $this->getInventoryProducts($module, $focus); self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["SGONpXMdBqodZsnzMPwt"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["dUJvsKZzuDJEfQObNxzY"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["gOHnqzppGThZvpAeOnNG"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["nTmAlahELxYHNfFwVOgA"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["aXubxJpJZtHMJKxnvmNS"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["ytPcTYQviOWffJYjSyVj"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["qwRyimhMuyAIYVkFegUl"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["OYnSWxZAAtgFUAzWUlPO"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["mVrXJOONVSZChsYNOzhQ"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jchlQfsqOXDdKcoXqU"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["feIjkqGopEmzOGcMmUQB"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["vyrGreozoFLtDZLyuhRI"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["gGAgAvJYNTyFjqGZRTvz"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["SDAPUHbTcvZMzFpCNqtI"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["sFZLiMYswEAAxqoSDpvv"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["aDwbOnJKWwhQMqFPNKI"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $prefix . $GLOBALS["WPmSbYZFzNBGyrGTLk"]] = $Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["hzbnSLrKuTMVxMNiiqpx"]]; $this->replaceContent(); if ($is_related === false) { $vattable = $GLOBALS["SnsSSwMKZSYeMFnEirnh"]; if (count($Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jFzQngxoQQzOOzdgBGrM"]]) > 0) { $vattable = $GLOBALS["MHEepEiAADloOKekqyK"]; $vattable .= $GLOBALS["ZGzpyJcKZAqFHBVUgXel"] . vtranslate($GLOBALS["iikSSXomhqziyjKdYrqY"]) . $GLOBALS["vMkJGOFARxpPAuIgedSP"] . self::$mod_strings[$GLOBALS["dRHETaosOwNIJQFcHUib"]] . $GLOBALS["vMkJGOFARxpPAuIgedSP"] . self::$mod_strings[$GLOBALS["rSGFTyLtZeBByCWTPIO"]] . $GLOBALS["UTmKRHEsSbdOHmLxIdSb"] . $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]] . $GLOBALS["QfeXxqYtCLayleQPW"] . $GLOBALS["vMkJGOFARxpPAuIgedSP"] . self::$mod_strings[$GLOBALS["qfWJVSsxLTSSlUheoewE"]] . $GLOBALS["UTmKRHEsSbdOHmLxIdSb"] . $currencytype[$GLOBALS["epdvjuZUWYeOAUeihbzK"]] . $GLOBALS["QfeXxqYtCLayleQPW"] . $GLOBALS["aYtVDAmOwTWIsoDoryYE"]; foreach ($Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jFzQngxoQQzOOzdgBGrM"]] as $keyW => $valueW){ if ($valueW[$GLOBALS["UolaZtQWMuDKDchPiEFC"]] != 0){ $vattable .= $GLOBALS["rydgZBBOztzQNWmATbwK"] . $valueW[$GLOBALS["dxmytxFbRXofSfxUbGRg"]] . $GLOBALS["SlVxVMfPEmXkdKRqTaBh"] . $this->formatNumberToPDF($valueW[$GLOBALS["mAArUflijiGbHGqNRAfY"]]) . $GLOBALS["VjLOfyKfWyCdusWIAWdN"] . $this->formatNumberToPDF($valueW[$GLOBALS["UolaZtQWMuDKDchPiEFC"]]) . $GLOBALS["akxzMvtMVhlTGkYuBeBt"] . $this->formatNumberToPDF($valueW[$GLOBALS["UCaWNXJSWoCcZuyPZMYV"]]) . $GLOBALS["evPqeApJlCUqIsERajBU"]; } } $vattable .= $GLOBALS["lWzbxjfiXJPufItRLuMq"]; } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["UmvmnoFuWRjkzHugGMPv"]] = $vattable; $this->replaceContent(); $VProductParts = []; if (strpos(self::$content, $GLOBALS["ngqNkMldJZZUjwCXVvKe"]) !== false && strpos(self::$content, $GLOBALS["YYRLWtklMQGaGjfqAzgZ"]) !== false){ self::$content = $this->convertVatBlock(self::$content); $VExplodedPdf = array(); $VExploded = explode("#VATBLOCK_START#", self::$content); $VExplodedPdf[] = $VExploded[0]; for ($iterator = 1; $iterator < count($VExploded); $iterator++){ $VSubExploded = explode($GLOBALS["YYRLWtklMQGaGjfqAzgZ"], $VExploded[$iterator]); foreach ($VSubExploded as $Vpart){ $VExplodedPdf[] = $Vpart; } $Vhighestpartid = $iterator * 2 - 1; $VProductParts[$Vhighestpartid] = $VExplodedPdf[$Vhighestpartid]; $VExplodedPdf[$Vhighestpartid] = $GLOBALS["tugkmwKQmrdyfghQnRJj"]; } if (count($Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jFzQngxoQQzOOzdgBGrM"]]) > 0){ foreach ($Products[$GLOBALS["fcJitMucOpzfbronbsev"]][$GLOBALS["jFzQngxoQQzOOzdgBGrM"]] as $keyW => $valueW){ foreach ($VProductParts as $productpartid => $productparttext){ if ($valueW[$GLOBALS["UolaZtQWMuDKDchPiEFC"]] != 0){ foreach ($valueW as $vColl => $vVal){ if (is_numeric($vVal)){ $vVal = $this->formatNumberToPDF($vVal); } $productparttext = str_replace($GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $GLOBALS["FkPIxPSEvkfvcHUCXiye"] . strtoupper($vColl) . $GLOBALS["gGGLCVFQtZZPmPufBSZy"], $vVal, $productparttext); } $VExplodedPdf[$productpartid].=$productparttext; } } } } self::$content = implode($GLOBALS["tugkmwKQmrdyfghQnRJj"], $VExplodedPdf); } } return $Products; } private function convertEntityImages(){ self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["FSfmkSOUJgWlVgNYqzfD"]] = $this->getUserImage(self::$focus->column_fields[$GLOBALS["hclorlNquLOBYvEzKzur"]]); self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["aPQOOGetUKKQqLaSuYHI"]] = $this->getUserImage($_SESSION[$GLOBALS["kcgtgCVnHDjFZxkUkUpO"]]); switch (self::$module){ case $GLOBALS["VWHPTaOAEVpRKucREQw"]: self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["RPkgbUewaCWuGtTyrlXz"]] = $this->getContactImage(self::$focus->id,self::$site_url); break; case $GLOBALS["hGnadVdSMPDJtvbMnxJM"]: self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"].$GLOBALS["rwmkcdmPDzUucQquSrtH"]] = $this->getProductImage(self::$focus->id,self::$site_url); break; } } private function replaceUserData($id,$data,$type){ $Fields = array("FIRSTNAME"=>"first_name","LASTNAME"=>"last_name","EMAIL"=>"email1","TITLE"=>"title","FAX"=>"phone_fax","DEPARTMENT"=>"department","OTHER_EMAIL"=>"email2","PHONE"=>"phone_work","YAHOOID"=>"yahoo_id","MOBILE"=>"phone_mobile","HOME_PHONE"=>"phone_home","OTHER_PHONE"=>"phone_other","SIGHNATURE"=>"signature","NOTES"=>"description","ADDRESS"=>"address_street","COUNTRY"=>"address_country","CITY"=>"address_city","ZIP"=>"address_postalcode","STATE"=>"address_state"); foreach ($Fields AS $n => $v) { self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $type . $GLOBALS["MbajDNJRhmMOwGojscvU"].$n.$GLOBALS["gGGLCVFQtZZPmPufBSZy"]] = $this->getUserValue($v,$data); } $currency_id = $this->getUserValue($GLOBALS["QPwfouUHWefctalhnxor"],$data); $currency_info = $this->getInventoryCurrencyInfoCustomArray($GLOBALS["tugkmwKQmrdyfghQnRJj"],$GLOBALS["tugkmwKQmrdyfghQnRJj"],$currency_id); if ($type == $GLOBALS["HifFabmCcMUcdbCrWhYA"]){ $type = $GLOBALS["KnyzRcNiwKtAjdOhNnpU"]; } self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $type . $GLOBALS["fKgtRtAbXjdmLClfyvNZ"]] = $id; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $type . $GLOBALS["QCoafbtJHEnYIXdbHMEE"]] = $currency_info[$GLOBALS["UZwTQdoOhNJBSuTcGqMr"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $type . $GLOBALS["vVcsNpnhZivKIbzfTbJo"]] = $currency_info[$GLOBALS["dqdzljRNGpMyOLxuNICA"]]; self::$rep[$GLOBALS["gGGLCVFQtZZPmPufBSZy"] . $type . $GLOBALS["gWJRFzwRTjNMXbfrYSbm"]] = $currency_info[$GLOBALS["epdvjuZUWYeOAUeihbzK"]]; $this->replaceContent(); } public function getSettings($templateid){ return $this->getSettingsForId($templateid); } public function getSettingsForModule($module){ $db = PearDatabase::getInstance(); $sql = $GLOBALS["ZjSDxfxihiFbHZUjqcfa"]; $result = $db->pquery($sql, array($module)); return $db->fetchByAssoc($result, 1); } } ?>